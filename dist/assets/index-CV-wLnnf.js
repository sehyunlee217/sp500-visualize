(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function vt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Hr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function ko(t){let n,e,r;t.length!==2?(n=vt,e=(f,c)=>vt(t(f),c),r=(f,c)=>t(f)-c):(n=t===vt||t===Hr?t:Lm,e=t,r=t);function i(f,c,u=0,s=f.length){if(u<s){if(n(c,c)!==0)return s;do{const l=u+s>>>1;e(f[l],c)<0?u=l+1:s=l}while(u<s)}return u}function o(f,c,u=0,s=f.length){if(u<s){if(n(c,c)!==0)return s;do{const l=u+s>>>1;e(f[l],c)<=0?u=l+1:s=l}while(u<s)}return u}function a(f,c,u=0,s=f.length){const l=i(f,c,u,s-1);return l>u&&r(f[l-1],c)>-r(f[l],c)?l-1:l}return{left:i,center:a,right:o}}function Lm(){return 0}function El(t){return t===null?NaN:+t}function*Im(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Fm=ko(vt),No=Fm.right;ko(El).center;function Do(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function Rm(t){return t.length|0}function Pm(t){return!(t>0)}function Om(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Um(t){return n=>t(...n)}function zm(...t){const n=typeof t[t.length-1]=="function"&&Um(t.pop());t=t.map(Om);const e=t.map(Rm),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Pm))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function qm(t,n){var e=0,r=0;return Float64Array.from(t,n===void 0?i=>e+=+i||0:i=>e+=+n(i,r++,t)||0)}function kl(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function rc(t,n){const e=kl(t,n);return e&&Math.sqrt(e)}function It(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class ce{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class ue extends Map{constructor(n,e=Ll){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(af(this,n))}has(n){return super.has(af(this,n))}set(n,e){return super.set(Nl(this,n),e)}delete(n){return super.delete(Dl(this,n))}}class Lo extends Set{constructor(n,e=Ll){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(af(this,n))}add(n){return super.add(Nl(this,n))}delete(n){return super.delete(Dl(this,n))}}function af({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Nl({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Dl({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Ll(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ff(t){return t}function Vr(t,...n){return ic(t,ff,ff,n)}function Ne(t,n,...e){return ic(t,ff,n,e)}function Bm(t,n,...e){return ic(t,Array.from,n,e)}function ic(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const f=new ue,c=r[a++];let u=-1;for(const s of o){const l=c(s,++u,o),h=f.get(l);h?h.push(s):f.set(l,[s])}for(const[s,l]of f)f.set(s,i(l,a));return n(f)}(t,0)}function Ym(t,n){return Array.from(n,e=>t[e])}function Tr(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=Sr(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>Sr(e[i],e[o]))),Ym(t,r)}return t.sort(oc(e))}function oc(t=vt){if(t===vt)return Sr;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Sr(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function ac(t,n,e){return(n.length!==2?Tr(Ne(t,n,e),([r,i],[o,a])=>vt(i,a)||vt(r,o)):Tr(Vr(t,e),([r,i],[o,a])=>n(i,a)||vt(r,o))).map(([r])=>r)}const Wm=Math.sqrt(50),Hm=Math.sqrt(10),Vm=Math.sqrt(2);function Vi(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Wm?10:o>=Hm?5:o>=Vm?2:1;let f,c,u;return i<0?(u=Math.pow(10,-i)/a,f=Math.round(t*u),c=Math.round(n*u),f/u<t&&++f,c/u>n&&--c,u=-u):(u=Math.pow(10,i)*a,f=Math.round(t/u),c=Math.round(n/u),f*u<t&&++f,c*u>n&&--c),c<f&&.5<=e&&e<2?Vi(t,n,e*2):[f,c,u]}function Ar(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Vi(n,t,e):Vi(t,n,e);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)c[u]=(o-u)/-a;else for(let u=0;u<f;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<f;++u)c[u]=(i+u)/-a;else for(let u=0;u<f;++u)c[u]=(i+u)*a;return c}function Xi(t,n,e){return n=+n,t=+t,e=+e,Vi(t,n,e)[2]}function cf(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Xi(n,t,e):Xi(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Xm(t){return Math.max(1,Math.ceil(Math.log(Do(t))/Math.LN2)+1)}function Xt(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Gm(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function dn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function jm(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Il(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Sr:oc(i);r>e;){if(r-e>600){const c=r-e+1,u=n-e+1,s=Math.log(c),l=.5*Math.exp(2*s/3),h=.5*Math.sqrt(s*l*(c-l)/c)*(u-c/2<0?-1:1),d=Math.max(e,Math.floor(n-u*l/c+h)),p=Math.min(r,Math.floor(n+(c-u)*l/c+h));Il(t,n,d,p,i)}const o=t[n];let a=e,f=r;for(nr(t,e,n),i(t[r],o)>0&&nr(t,e,r);a<f;){for(nr(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?nr(t,e,f):(++f,nr(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function nr(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Fl(t,n=vt){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?vt(a,i)>0:vt(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function Fe(t,n,e){if(t=Float64Array.from(Im(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return dn(t);if(n>=1)return Xt(t);var r,i=(r-1)*n,o=Math.floor(i),a=Xt(Il(t,o).subarray(0,o+1)),f=dn(t.subarray(o+1));return a+(f-a)*(i-o)}}function Zm(t,n,e=El){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function Km(t,n,e){const r=Do(t),i=Fe(t,.75)-Fe(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function Rl(t,n,e){const r=Do(t),i=rc(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function fc(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function Gi(t,n){return Fe(t,.5,n)}function*Qm(t){for(const n of t)yield*n}function Pl(t){return Array.from(Qm(t))}function Jm(t,n){const e=new ue;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function tg(t,n=ng){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function ng(t,n){return[t,n]}function uf(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Ol(t,n=vt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);n.length!==2&&(e=e.map(n),n=vt);const i=(f,c)=>n(e[f],e[c]);let o,a;return t=Uint32Array.from(e,(f,c)=>c),t.sort(n===vt?(f,c)=>Sr(e[f],e[c]):oc(i)),t.forEach((f,c)=>{const u=i(f,o===void 0?f:o);u>=0?((o===void 0||u>0)&&(o=f,a=c),r[f]=a):r[f]=NaN}),r}function kn(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function ji(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function eg(t){return t}var ba=1,ya=2,sf=3,wi=4,_u=1e-6;function rg(t){return"translate("+t+",0)"}function ig(t){return"translate(0,"+t+")"}function og(t){return n=>+t(n)}function ag(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function fg(){return!this.__axis}function cg(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ba||t===wi?-1:1,s=t===wi||t===ya?"x":"y",l=t===ba||t===sf?rg:ig;function h(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):eg),g=Math.max(o,0)+f,w=n.range(),b=+w[0]+c,_=+w[w.length-1]+c,y=(n.bandwidth?ag:og)(n.copy(),c),v=d.selection?d.selection():d,x=v.selectAll(".domain").data([null]),$=v.selectAll(".tick").data(p,n).order(),A=$.exit(),C=$.enter().append("g").attr("class","tick"),k=$.select("line"),M=$.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(C),k=k.merge(C.append("line").attr("stroke","currentColor").attr(s+"2",u*o)),M=M.merge(C.append("text").attr("fill","currentColor").attr(s,u*g).attr("dy",t===ba?"0em":t===sf?"0.71em":"0.32em")),d!==v&&(x=x.transition(d),$=$.transition(d),k=k.transition(d),M=M.transition(d),A=A.transition(d).attr("opacity",_u).attr("transform",function(D){return isFinite(D=y(D))?l(D+c):this.getAttribute("transform")}),C.attr("opacity",_u).attr("transform",function(D){var F=this.parentNode.__axis;return l((F&&isFinite(F=F(D))?F:y(D))+c)})),A.remove(),x.attr("d",t===wi||t===ya?a?"M"+u*a+","+b+"H"+c+"V"+_+"H"+u*a:"M"+c+","+b+"V"+_:a?"M"+b+","+u*a+"V"+c+"H"+_+"V"+u*a:"M"+b+","+c+"H"+_),$.attr("opacity",1).attr("transform",function(D){return l(y(D)+c)}),k.attr(s+"2",u*o),M.attr(s,u*g).text(m),v.filter(fg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ya?"start":t===wi?"end":"middle"),v.each(function(){this.__axis=y})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=a=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(a=+d,h):a},h.tickPadding=function(d){return arguments.length?(f=+d,h):f},h.offset=function(d){return arguments.length?(c=+d,h):c},h}function ug(t){return cg(sf,t)}var sg={value:()=>{}};function Ul(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Oi(e)}function Oi(t){this._=t}function lg(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Oi.prototype=Ul.prototype={constructor:Oi,on:function(t,n){var e=this._,r=lg(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=hg(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=vu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=vu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Oi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function hg(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function vu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=sg,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var lf="http://www.w3.org/1999/xhtml";const Re={svg:"http://www.w3.org/2000/svg",xhtml:lf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Io(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Re.hasOwnProperty(n)?{space:Re[n],local:t}:t}function dg(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===lf&&n.documentElement.namespaceURI===lf?n.createElement(t):n.createElementNS(e,t)}}function pg(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fo(t){var n=Io(t);return(n.local?pg:dg)(n)}function mg(){}function cc(t){return t==null?mg:function(){return this.querySelector(t)}}function gg(t){typeof t!="function"&&(t=cc(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),c,u,s=0;s<a;++s)(c=o[s])&&(u=t.call(c,c.__data__,s,o))&&("__data__"in c&&(u.__data__=c.__data__),f[s]=u);return new Pt(r,this._parents)}function bg(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function yg(){return[]}function zl(t){return t==null?yg:function(){return this.querySelectorAll(t)}}function wg(t){return function(){return bg(t.apply(this,arguments))}}function _g(t){typeof t=="function"?t=wg(t):t=zl(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,c,u=0;u<f;++u)(c=a[u])&&(r.push(t.call(c,c.__data__,u,a)),i.push(c));return new Pt(r,i)}function ql(t){return function(){return this.matches(t)}}function Bl(t){return function(n){return n.matches(t)}}var vg=Array.prototype.find;function xg(t){return function(){return vg.call(this.children,t)}}function Mg(){return this.firstElementChild}function $g(t){return this.select(t==null?Mg:xg(typeof t=="function"?t:Bl(t)))}var Tg=Array.prototype.filter;function Sg(){return Array.from(this.children)}function Ag(t){return function(){return Tg.call(this.children,t)}}function Cg(t){return this.selectAll(t==null?Sg:Ag(typeof t=="function"?t:Bl(t)))}function Eg(t){typeof t!="function"&&(t=ql(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&f.push(c);return new Pt(r,this._parents)}function Yl(t){return new Array(t.length)}function kg(){return new Pt(this._enter||this._groups.map(Yl),this._parents)}function Zi(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Zi.prototype={constructor:Zi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ng(t){return function(){return t}}function Dg(t,n,e,r,i,o){for(var a=0,f,c=n.length,u=o.length;a<u;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new Zi(t,o[a]);for(;a<c;++a)(f=n[a])&&(i[a]=f)}function Lg(t,n,e,r,i,o,a){var f,c,u=new Map,s=n.length,l=o.length,h=new Array(s),d;for(f=0;f<s;++f)(c=n[f])&&(h[f]=d=a.call(c,c.__data__,f,n)+"",u.has(d)?i[f]=c:u.set(d,c));for(f=0;f<l;++f)d=a.call(t,o[f],f,o)+"",(c=u.get(d))?(r[f]=c,c.__data__=o[f],u.delete(d)):e[f]=new Zi(t,o[f]);for(f=0;f<s;++f)(c=n[f])&&u.get(h[f])===c&&(i[f]=c)}function Ig(t){return t.__data__}function Fg(t,n){if(!arguments.length)return Array.from(this,Ig);var e=n?Lg:Dg,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ng(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),u=0;u<o;++u){var s=r[u],l=i[u],h=l.length,d=Rg(t.call(s,s&&s.__data__,u,r)),p=d.length,m=f[u]=new Array(p),g=a[u]=new Array(p),w=c[u]=new Array(h);e(s,l,m,g,w,d,n);for(var b=0,_=0,y,v;b<p;++b)if(y=m[b]){for(b>=_&&(_=b+1);!(v=g[_])&&++_<p;);y._next=v||null}}return a=new Pt(a,r),a._enter=f,a._exit=c,a}function Rg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pg(){return new Pt(this._exit||this._groups.map(Yl),this._parents)}function Og(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Ug(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var u=e[c],s=r[c],l=u.length,h=f[c]=new Array(l),d,p=0;p<l;++p)(d=u[p]||s[p])&&(h[p]=d);for(;c<i;++c)f[c]=e[c];return new Pt(f,this._parents)}function zg(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function qg(t){t||(t=Bg);function n(l,h){return l&&h?t(l.__data__,h.__data__):!l-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,c=i[o]=new Array(f),u,s=0;s<f;++s)(u=a[s])&&(c[s]=u);c.sort(n)}return new Pt(i,this._parents).order()}function Bg(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Yg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Wg(){return Array.from(this)}function Hg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Vg(){let t=0;for(const n of this)++t;return t}function Xg(){return!this.node()}function Gg(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function jg(t){return function(){this.removeAttribute(t)}}function Zg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kg(t,n){return function(){this.setAttribute(t,n)}}function Qg(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Jg(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function t2(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function n2(t,n){var e=Io(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Zg:jg:typeof n=="function"?e.local?t2:Jg:e.local?Qg:Kg)(e,n))}function Wl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function e2(t){return function(){this.style.removeProperty(t)}}function r2(t,n,e){return function(){this.style.setProperty(t,n,e)}}function i2(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function o2(t,n,e){return arguments.length>1?this.each((n==null?e2:typeof n=="function"?i2:r2)(t,n,e??"")):Pe(this.node(),t)}function Pe(t,n){return t.style.getPropertyValue(n)||Wl(t).getComputedStyle(t,null).getPropertyValue(n)}function a2(t){return function(){delete this[t]}}function f2(t,n){return function(){this[t]=n}}function c2(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function u2(t,n){return arguments.length>1?this.each((n==null?a2:typeof n=="function"?c2:f2)(t,n)):this.node()[t]}function Hl(t){return t.trim().split(/^|\s+/)}function uc(t){return t.classList||new Vl(t)}function Vl(t){this._node=t,this._names=Hl(t.getAttribute("class")||"")}Vl.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xl(t,n){for(var e=uc(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Gl(t,n){for(var e=uc(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function s2(t){return function(){Xl(this,t)}}function l2(t){return function(){Gl(this,t)}}function h2(t,n){return function(){(n.apply(this,arguments)?Xl:Gl)(this,t)}}function d2(t,n){var e=Hl(t+"");if(arguments.length<2){for(var r=uc(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?h2:n?s2:l2)(e,n))}function p2(){this.textContent=""}function m2(t){return function(){this.textContent=t}}function g2(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function b2(t){return arguments.length?this.each(t==null?p2:(typeof t=="function"?g2:m2)(t)):this.node().textContent}function y2(){this.innerHTML=""}function w2(t){return function(){this.innerHTML=t}}function _2(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function v2(t){return arguments.length?this.each(t==null?y2:(typeof t=="function"?_2:w2)(t)):this.node().innerHTML}function x2(){this.nextSibling&&this.parentNode.appendChild(this)}function M2(){return this.each(x2)}function $2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function T2(){return this.each($2)}function S2(t){var n=typeof t=="function"?t:Fo(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function A2(){return null}function C2(t,n){var e=typeof t=="function"?t:Fo(t),r=n==null?A2:typeof n=="function"?n:cc(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function E2(){var t=this.parentNode;t&&t.removeChild(this)}function k2(){return this.each(E2)}function N2(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function D2(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function L2(t){return this.select(t?D2:N2)}function I2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function F2(t){return function(n){t.call(this,n,this.__data__)}}function R2(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function P2(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function O2(t,n,e){return function(){var r=this.__on,i,o=F2(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function U2(t,n,e){var r=R2(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,u=f.length,s;c<u;++c)for(i=0,s=f[c];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(f=n?O2:P2,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function jl(t,n,e){var r=Wl(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function z2(t,n){return function(){return jl(this,t,n)}}function q2(t,n){return function(){return jl(this,t,n.apply(this,arguments))}}function B2(t,n){return this.each((typeof n=="function"?q2:z2)(t,n))}function*Y2(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Zl=[null];function Pt(t,n){this._groups=t,this._parents=n}function Xr(){return new Pt([[document.documentElement]],Zl)}function W2(){return this}Pt.prototype=Xr.prototype={constructor:Pt,select:gg,selectAll:_g,selectChild:$g,selectChildren:Cg,filter:Eg,data:Fg,enter:kg,exit:Pg,join:Og,merge:Ug,selection:W2,order:zg,sort:qg,call:Yg,nodes:Wg,node:Hg,size:Vg,empty:Xg,each:Gg,attr:n2,style:o2,property:u2,classed:d2,text:b2,html:v2,raise:M2,lower:T2,append:S2,insert:C2,remove:k2,clone:L2,datum:I2,on:U2,dispatch:B2,[Symbol.iterator]:Y2};function wr(t){return typeof t=="string"?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],Zl)}function H2(t){let n;for(;n=t.sourceEvent;)t=n;return t}function V2(t,n){if(t=H2(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Ge(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Gr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Hn(){}var se=.7,Oe=1/se,De="\\s*([+-]?\\d+)\\s*",Cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X2=/^#([0-9a-f]{3,8})$/,G2=new RegExp(`^rgb\\(${De},${De},${De}\\)$`),j2=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),Z2=new RegExp(`^rgba\\(${De},${De},${De},${Cr}\\)$`),K2=new RegExp(`^rgba\\(${ln},${ln},${ln},${Cr}\\)$`),Q2=new RegExp(`^hsl\\(${Cr},${ln},${ln}\\)$`),J2=new RegExp(`^hsla\\(${Cr},${ln},${ln},${Cr}\\)$`),xu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ge(Hn,le,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mu,formatHex:Mu,formatHex8:tb,formatHsl:nb,formatRgb:$u,toString:$u});function Mu(){return this.rgb().formatHex()}function tb(){return this.rgb().formatHex8()}function nb(){return Kl(this).formatHsl()}function $u(){return this.rgb().formatRgb()}function le(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=X2.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Tu(n):e===3?new wt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?_i(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?_i(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=G2.exec(t))?new wt(n[1],n[2],n[3],1):(n=j2.exec(t))?new wt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Z2.exec(t))?_i(n[1],n[2],n[3],n[4]):(n=K2.exec(t))?_i(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Q2.exec(t))?Cu(n[1],n[2]/100,n[3]/100,1):(n=J2.exec(t))?Cu(n[1],n[2]/100,n[3]/100,n[4]):xu.hasOwnProperty(t)?Tu(xu[t]):t==="transparent"?new wt(NaN,NaN,NaN,0):null}function Tu(t){return new wt(t>>16&255,t>>8&255,t&255,1)}function _i(t,n,e,r){return r<=0&&(t=n=e=NaN),new wt(t,n,e,r)}function sc(t){return t instanceof Hn||(t=le(t)),t?(t=t.rgb(),new wt(t.r,t.g,t.b,t.opacity)):new wt}function Yn(t,n,e,r){return arguments.length===1?sc(t):new wt(t,n,e,r??1)}function wt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ge(wt,Yn,Gr(Hn,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?se:Math.pow(se,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wt(oe(this.r),oe(this.g),oe(this.b),Ki(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Su,formatHex:Su,formatHex8:eb,formatRgb:Au,toString:Au}));function Su(){return`#${re(this.r)}${re(this.g)}${re(this.b)}`}function eb(){return`#${re(this.r)}${re(this.g)}${re(this.b)}${re((isNaN(this.opacity)?1:this.opacity)*255)}`}function Au(){const t=Ki(this.opacity);return`${t===1?"rgb(":"rgba("}${oe(this.r)}, ${oe(this.g)}, ${oe(this.b)}${t===1?")":`, ${t})`}`}function Ki(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function re(t){return t=oe(t),(t<16?"0":"")+t.toString(16)}function Cu(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Zt(t,n,e,r)}function Kl(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);if(t instanceof Hn||(t=le(t)),!t)return new Zt;if(t instanceof Zt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,c=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new Zt(a,f,c,t.opacity)}function hf(t,n,e,r){return arguments.length===1?Kl(t):new Zt(t,n,e,r??1)}function Zt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ge(Zt,hf,Gr(Hn,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?se:Math.pow(se,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new wt(wa(t>=240?t-240:t+120,i,r),wa(t,i,r),wa(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zt(Eu(this.h),vi(this.s),vi(this.l),Ki(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ki(this.opacity);return`${t===1?"hsl(":"hsla("}${Eu(this.h)}, ${vi(this.s)*100}%, ${vi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Eu(t){return t=(t||0)%360,t<0?t+360:t}function vi(t){return Math.max(0,Math.min(1,t||0))}function wa(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Ql=Math.PI/180,Jl=180/Math.PI,Qi=18,th=.96422,nh=1,eh=.82521,rh=4/29,Le=6/29,ih=3*Le*Le,rb=Le*Le*Le;function oh(t){if(t instanceof hn)return new hn(t.l,t.a,t.b,t.opacity);if(t instanceof An)return ah(t);t instanceof wt||(t=sc(t));var n=Ma(t.r),e=Ma(t.g),r=Ma(t.b),i=_a((.2225045*n+.7168786*e+.0606169*r)/nh),o,a;return n===e&&e===r?o=a=i:(o=_a((.4360747*n+.3850649*e+.1430804*r)/th),a=_a((.0139322*n+.0971045*e+.7141733*r)/eh)),new hn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function df(t,n,e,r){return arguments.length===1?oh(t):new hn(t,n,e,r??1)}function hn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Ge(hn,df,Gr(Hn,{brighter(t){return new hn(this.l+Qi*(t??1),this.a,this.b,this.opacity)},darker(t){return new hn(this.l-Qi*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=th*va(n),t=nh*va(t),e=eh*va(e),new wt(xa(3.1338561*n-1.6168667*t-.4906146*e),xa(-.9787684*n+1.9161415*t+.033454*e),xa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function _a(t){return t>rb?Math.pow(t,1/3):t/ih+rh}function va(t){return t>Le?t*t*t:ih*(t-rh)}function xa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ma(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ib(t){if(t instanceof An)return new An(t.h,t.c,t.l,t.opacity);if(t instanceof hn||(t=oh(t)),t.a===0&&t.b===0)return new An(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Jl;return new An(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function pf(t,n,e,r){return arguments.length===1?ib(t):new An(t,n,e,r??1)}function An(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function ah(t){if(isNaN(t.h))return new hn(t.l,0,0,t.opacity);var n=t.h*Ql;return new hn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Ge(An,pf,Gr(Hn,{brighter(t){return new An(this.h,this.c,this.l+Qi*(t??1),this.opacity)},darker(t){return new An(this.h,this.c,this.l-Qi*(t??1),this.opacity)},rgb(){return ah(this).rgb()}}));var fh=-.14861,lc=1.78277,hc=-.29227,Ro=-.90649,Er=1.97294,ku=Er*Ro,Nu=Er*lc,Du=lc*hc-Ro*fh;function ob(t){if(t instanceof ae)return new ae(t.h,t.s,t.l,t.opacity);t instanceof wt||(t=sc(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Du*r+ku*n-Nu*e)/(Du+ku-Nu),o=r-i,a=(Er*(e-i)-hc*o)/Ro,f=Math.sqrt(a*a+o*o)/(Er*i*(1-i)),c=f?Math.atan2(a,o)*Jl-120:NaN;return new ae(c<0?c+360:c,f,i,t.opacity)}function pn(t,n,e,r){return arguments.length===1?ob(t):new ae(t,n,e,r??1)}function ae(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ge(ae,pn,Gr(Hn,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new ae(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?se:Math.pow(se,t),new ae(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Ql,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new wt(255*(n+e*(fh*r+lc*i)),255*(n+e*(hc*r+Ro*i)),255*(n+e*(Er*r)),this.opacity)}}));function ab(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function fb(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return ab((e-r/n)*n,a,i,o,f)}}const Po=t=>()=>t;function ch(t,n){return function(e){return t+e*n}}function cb(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function dc(t,n){var e=n-t;return e?ch(t,e>180||e<-180?e-360*Math.round(e/360):e):Po(isNaN(t)?n:t)}function ub(t){return(t=+t)==1?$t:function(n,e){return e-n?cb(n,e,t):Po(isNaN(n)?e:n)}}function $t(t,n){var e=n-t;return e?ch(t,e):Po(isNaN(t)?n:t)}const he=function t(n){var e=ub(n);function r(i,o){var a=e((i=Yn(i)).r,(o=Yn(o)).r),f=e(i.g,o.g),c=e(i.b,o.b),u=$t(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=f(s),i.b=c(s),i.opacity=u(s),i+""}}return r.gamma=t,r}(1);function sb(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=Yn(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var lb=sb(fb);function hb(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function db(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pb(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=jr(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function mb(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Mt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function gb(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=jr(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var mf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$a=new RegExp(mf.source,"g");function bb(t){return function(){return t}}function yb(t){return function(n){return t(n)+""}}function uh(t,n){var e=mf.lastIndex=$a.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",n=n+"";(r=mf.exec(t))&&(i=$a.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:Mt(r,i)})),e=$a.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?yb(c[0].x):bb(n):(n=c.length,function(u){for(var s=0,l;s<n;++s)f[(l=c[s]).i]=l.x(u);return f.join("")})}function jr(t,n){var e=typeof n,r;return n==null||e==="boolean"?Po(n):(e==="number"?Mt:e==="string"?(r=le(n))?(n=r,he):uh:n instanceof le?he:n instanceof Date?mb:db(n)?hb:Array.isArray(n)?pb:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?gb:Mt)(t,n)}function pc(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Lu=180/Math.PI,gf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sh(t,n,e,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Lu,skewX:Math.atan(c)*Lu,scaleX:a,scaleY:f}}var xi;function wb(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?gf:sh(n.a,n.b,n.c,n.d,n.e,n.f)}function _b(t){return t==null||(xi||(xi=document.createElementNS("http://www.w3.org/2000/svg","g")),xi.setAttribute("transform",t),!(t=xi.transform.baseVal.consolidate()))?gf:(t=t.matrix,sh(t.a,t.b,t.c,t.d,t.e,t.f))}function lh(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function o(u,s,l,h,d,p){if(u!==l||s!==h){var m=d.push("translate(",null,n,null,e);p.push({i:m-4,x:Mt(u,l)},{i:m-2,x:Mt(s,h)})}else(l||h)&&d.push("translate("+l+n+h+e)}function a(u,s,l,h){u!==s?(u-s>180?s+=360:s-u>180&&(u+=360),h.push({i:l.push(i(l)+"rotate(",null,r)-2,x:Mt(u,s)})):s&&l.push(i(l)+"rotate("+s+r)}function f(u,s,l,h){u!==s?h.push({i:l.push(i(l)+"skewX(",null,r)-2,x:Mt(u,s)}):s&&l.push(i(l)+"skewX("+s+r)}function c(u,s,l,h,d,p){if(u!==l||s!==h){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:Mt(u,l)},{i:m-2,x:Mt(s,h)})}else(l!==1||h!==1)&&d.push(i(d)+"scale("+l+","+h+")")}return function(u,s){var l=[],h=[];return u=t(u),s=t(s),o(u.translateX,u.translateY,s.translateX,s.translateY,l,h),a(u.rotate,s.rotate,l,h),f(u.skewX,s.skewX,l,h),c(u.scaleX,u.scaleY,s.scaleX,s.scaleY,l,h),u=s=null,function(d){for(var p=-1,m=h.length,g;++p<m;)l[(g=h[p]).i]=g.x(d);return l.join("")}}}var vb=lh(wb,"px, ","px)","deg)"),xb=lh(_b,", ",")",")");function Mb(t){return function(n,e){var r=t((n=hf(n)).h,(e=hf(e)).h),i=$t(n.s,e.s),o=$t(n.l,e.l),a=$t(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const $b=Mb(dc);function Tb(t,n){var e=$t((t=df(t)).l,(n=df(n)).l),r=$t(t.a,n.a),i=$t(t.b,n.b),o=$t(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Sb(t){return function(n,e){var r=t((n=pf(n)).h,(e=pf(e)).h),i=$t(n.c,e.c),o=$t(n.l,e.l),a=$t(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Ab=Sb(dc);function hh(t){return function n(e){e=+e;function r(i,o){var a=t((i=pn(i)).h,(o=pn(o)).h),f=$t(i.s,o.s),c=$t(i.l,o.l),u=$t(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=f(s),i.l=c(Math.pow(s,e)),i.opacity=u(s),i+""}}return r.gamma=n,r}(1)}hh(dc);var mc=hh($t);function Oo(t,n){n===void 0&&(n=t,t=jr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function Qt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Ue=0,ur=0,er=0,dh=1e3,Ji,sr,to=0,de=0,Uo=0,kr=typeof performance=="object"&&performance.now?performance:Date,ph=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gc(){return de||(ph(Cb),de=kr.now()+Uo)}function Cb(){de=0}function no(){this._call=this._time=this._next=null}no.prototype=mh.prototype={constructor:no,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?gc():+e)+(n==null?0:+n),!this._next&&sr!==this&&(sr?sr._next=this:Ji=this,sr=this),this._call=t,this._time=e,bf()},stop:function(){this._call&&(this._call=null,this._time=1/0,bf())}};function mh(t,n,e){var r=new no;return r.restart(t,n,e),r}function Eb(){gc(),++Ue;for(var t=Ji,n;t;)(n=de-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Ue}function Iu(){de=(to=kr.now())+Uo,Ue=ur=0;try{Eb()}finally{Ue=0,Nb(),de=0}}function kb(){var t=kr.now(),n=t-to;n>dh&&(Uo-=n,to=t)}function Nb(){for(var t,n=Ji,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ji=e);sr=t,bf(r)}function bf(t){if(!Ue){ur&&(ur=clearTimeout(ur));var n=t-de;n>24?(t<1/0&&(ur=setTimeout(Iu,t-kr.now()-Uo)),er&&(er=clearInterval(er))):(er||(to=kr.now(),er=setInterval(kb,dh)),Ue=1,ph(Iu))}}function Fu(t,n,e){var r=new no;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Db=Ul("start","end","cancel","interrupt"),Lb=[],gh=0,Ru=1,yf=2,Ui=3,Pu=4,wf=5,zi=6;function zo(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Ib(t,e,{name:n,index:r,group:i,on:Db,tween:Lb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gh})}function bc(t,n){var e=en(t,n);if(e.state>gh)throw new Error("too late; already scheduled");return e}function bn(t,n){var e=en(t,n);if(e.state>Ui)throw new Error("too late; already running");return e}function en(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Ib(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=mh(o,0,e.time);function o(u){e.state=Ru,e.timer.restart(a,e.delay,e.time),e.delay<=u&&a(u-e.delay)}function a(u){var s,l,h,d;if(e.state!==Ru)return c();for(s in r)if(d=r[s],d.name===e.name){if(d.state===Ui)return Fu(a);d.state===Pu?(d.state=zi,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[s]):+s<n&&(d.state=zi,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[s])}if(Fu(function(){e.state===Ui&&(e.state=Pu,e.timer.restart(f,e.delay,e.time),f(u))}),e.state=yf,e.on.call("start",t,t.__data__,e.index,e.group),e.state===yf){for(e.state=Ui,i=new Array(h=e.tween.length),s=0,l=-1;s<h;++s)(d=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++l]=d);i.length=l+1}}function f(u){for(var s=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(c),e.state=wf,1),l=-1,h=i.length;++l<h;)i[l].call(t,s);e.state===wf&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=zi,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function Fb(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>yf&&r.state<wf,r.state=zi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function Rb(t){return this.each(function(){Fb(this,t)})}function Pb(t,n){var e,r;return function(){var i=bn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ob(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=bn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},c=0,u=i.length;c<u;++c)if(i[c].name===n){i[c]=f;break}c===u&&i.push(f)}o.tween=i}}function Ub(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=en(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Pb:Ob)(e,t,n))}function yc(t,n,e){var r=t._id;return t.each(function(){var i=bn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return en(i,r).value[n]}}function bh(t,n){var e;return(typeof n=="number"?Mt:n instanceof le?he:(e=le(n))?(n=e,he):uh)(t,n)}function zb(t){return function(){this.removeAttribute(t)}}function qb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function Yb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function Wb(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function Hb(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function Vb(t,n){var e=Io(t),r=e==="transform"?xb:bh;return this.attrTween(t,typeof n=="function"?(e.local?Hb:Wb)(e,r,yc(this,"attr."+t,n)):n==null?(e.local?qb:zb)(e):(e.local?Yb:Bb)(e,r,n))}function Xb(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Gb(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function jb(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Gb(t,o)),e}return i._value=n,i}function Zb(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Xb(t,o)),e}return i._value=n,i}function Kb(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Io(t);return this.tween(e,(r.local?jb:Zb)(r,n))}function Qb(t,n){return function(){bc(this,t).delay=+n.apply(this,arguments)}}function Jb(t,n){return n=+n,function(){bc(this,t).delay=n}}function ty(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Qb:Jb)(n,t)):en(this.node(),n).delay}function ny(t,n){return function(){bn(this,t).duration=+n.apply(this,arguments)}}function ey(t,n){return n=+n,function(){bn(this,t).duration=n}}function ry(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ny:ey)(n,t)):en(this.node(),n).duration}function iy(t,n){if(typeof n!="function")throw new Error;return function(){bn(this,t).ease=n}}function oy(t){var n=this._id;return arguments.length?this.each(iy(n,t)):en(this.node(),n).ease}function ay(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;bn(this,t).ease=e}}function fy(t){if(typeof t!="function")throw new Error;return this.each(ay(this._id,t))}function cy(t){typeof t!="function"&&(t=ql(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&f.push(c);return new Nn(r,this._parents,this._name,this._id)}function uy(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=n[f],u=e[f],s=c.length,l=a[f]=new Array(s),h,d=0;d<s;++d)(h=c[d]||u[d])&&(l[d]=h);for(;f<r;++f)a[f]=n[f];return new Nn(a,this._parents,this._name,this._id)}function sy(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function ly(t,n,e){var r,i,o=sy(n)?bc:bn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function hy(t,n){var e=this._id;return arguments.length<2?en(this.node(),e).on.on(t):this.each(ly(e,t,n))}function dy(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function py(){return this.on("end.remove",dy(this._id))}function my(t){var n=this._name,e=this._id;typeof t!="function"&&(t=cc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,u=o[a]=new Array(c),s,l,h=0;h<c;++h)(s=f[h])&&(l=t.call(s,s.__data__,h,f))&&("__data__"in s&&(l.__data__=s.__data__),u[h]=l,zo(u[h],n,e,h,u,en(s,e)));return new Nn(o,this._parents,n,e)}function gy(t){var n=this._name,e=this._id;typeof t!="function"&&(t=zl(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],u=c.length,s,l=0;l<u;++l)if(s=c[l]){for(var h=t.call(s,s.__data__,l,c),d,p=en(s,e),m=0,g=h.length;m<g;++m)(d=h[m])&&zo(d,n,e,m,h,p);o.push(h),a.push(s)}return new Nn(o,a,n,e)}var by=Xr.prototype.constructor;function yy(){return new by(this._groups,this._parents)}function wy(t,n){var e,r,i;return function(){var o=Pe(this,t),a=(this.style.removeProperty(t),Pe(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function yh(t){return function(){this.style.removeProperty(t)}}function _y(t,n,e){var r,i=e+"",o;return function(){var a=Pe(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function vy(t,n,e){var r,i,o;return function(){var a=Pe(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),Pe(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f))}}function xy(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var c=bn(this,t),u=c.on,s=c.value[o]==null?f||(f=yh(n)):void 0;(u!==e||i!==s)&&(r=(e=u).copy()).on(a,i=s),c.on=r}}function My(t,n,e){var r=(t+="")=="transform"?vb:bh;return n==null?this.styleTween(t,wy(t,r)).on("end.style."+t,yh(t)):typeof n=="function"?this.styleTween(t,vy(t,r,yc(this,"style."+t,n))).each(xy(this._id,t)):this.styleTween(t,_y(t,r,n),e).on("end.style."+t,null)}function $y(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ty(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&$y(t,a,e)),r}return o._value=n,o}function Sy(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Ty(t,n,e??""))}function Ay(t){return function(){this.textContent=t}}function Cy(t){return function(){var n=t(this);this.textContent=n??""}}function Ey(t){return this.tween("text",typeof t=="function"?Cy(yc(this,"text",t)):Ay(t==null?"":t+""))}function ky(t){return function(n){this.textContent=t.call(this,n)}}function Ny(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&ky(i)),n}return r._value=t,r}function Dy(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ny(t))}function Ly(){for(var t=this._name,n=this._id,e=wh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,u=0;u<f;++u)if(c=a[u]){var s=en(c,n);zo(c,t,e,u,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Nn(r,this._parents,t,e)}function Iy(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var u=bn(this,r),s=u.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),u.on=n}),i===0&&o()})}var Fy=0;function Nn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function wh(){return++Fy}var wn=Xr.prototype;Nn.prototype={constructor:Nn,select:my,selectAll:gy,selectChild:wn.selectChild,selectChildren:wn.selectChildren,filter:cy,merge:uy,selection:yy,transition:Ly,call:wn.call,nodes:wn.nodes,node:wn.node,size:wn.size,empty:wn.empty,each:wn.each,on:hy,attr:Vb,attrTween:Kb,style:My,styleTween:Sy,text:Ey,textTween:Dy,remove:py,tween:Ub,delay:ty,duration:ry,ease:oy,easeVarying:fy,end:Iy,[Symbol.iterator]:wn[Symbol.iterator]};function Ry(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Py={time:null,delay:0,duration:250,ease:Ry};function Oy(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Uy(t){var n,e;t instanceof Nn?(n=t._id,t=t._name):(n=wh(),(e=Py).time=gc(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,u=0;u<f;++u)(c=a[u])&&zo(c,t,n,u,a,e||Oy(c,n));return new Nn(r,this._parents,t,n)}Xr.prototype.interrupt=Rb;Xr.prototype.transition=Uy;const _f=Math.PI,vf=2*_f,ne=1e-6,zy=vf-ne;function _h(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function qy(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return _h;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class vh{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?_h:qy(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-n,u=i-e,s=a-n,l=f-e,h=s*s+l*l;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(h>ne)if(!(Math.abs(l*c-u*s)>ne)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,p=i-f,m=c*c+u*u,g=d*d+p*p,w=Math.sqrt(m),b=Math.sqrt(h),_=o*Math.tan((_f-Math.acos((m+h-g)/(2*w*b)))/2),y=_/b,v=_/w;Math.abs(y-1)>ne&&this._append`L${n+y*s},${e+y*l}`,this._append`A${o},${o},0,0,${+(l*d>s*p)},${this._x1=n+v*c},${this._y1=e+v*u}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),u=n+f,s=e+c,l=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${s}`:(Math.abs(this._x1-u)>ne||Math.abs(this._y1-s)>ne)&&this._append`L${u},${s}`,r&&(h<0&&(h=h%vf+vf),h>zy?this._append`A${r},${r},0,1,${l},${n-f},${e-c}A${r},${r},0,1,${l},${this._x1=u},${this._y1=s}`:h>ne&&this._append`A${r},${r},0,${+(h>=_f)},${l},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xf(t=3){return new vh(+t)}var Ou={},Ta={},Sa=34,rr=10,Aa=13;function xh(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function By(t,n){var e=xh(t);return function(r,i){return n(e(r),i,t)}}function Uu(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function kt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Yy(t){return t<0?"-"+kt(-t,6):t>9999?"+"+kt(t,6):kt(t,4)}function Wy(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Yy(t.getUTCFullYear())+"-"+kt(t.getUTCMonth()+1,2)+"-"+kt(t.getUTCDate(),2)+(i?"T"+kt(n,2)+":"+kt(e,2)+":"+kt(r,2)+"."+kt(i,3)+"Z":r?"T"+kt(n,2)+":"+kt(e,2)+":"+kt(r,2)+"Z":e||n?"T"+kt(n,2)+":"+kt(e,2)+"Z":"")}function Hy(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(l,h){var d,p,m=i(l,function(g,w){if(d)return d(g,w-1);p=g,d=h?By(g,h):xh(g)});return m.columns=p||[],m}function i(l,h){var d=[],p=l.length,m=0,g=0,w,b=p<=0,_=!1;l.charCodeAt(p-1)===rr&&--p,l.charCodeAt(p-1)===Aa&&--p;function y(){if(b)return Ta;if(_)return _=!1,Ou;var x,$=m,A;if(l.charCodeAt($)===Sa){for(;m++<p&&l.charCodeAt(m)!==Sa||l.charCodeAt(++m)===Sa;);return(x=m)>=p?b=!0:(A=l.charCodeAt(m++))===rr?_=!0:A===Aa&&(_=!0,l.charCodeAt(m)===rr&&++m),l.slice($+1,x-1).replace(/""/g,'"')}for(;m<p;){if((A=l.charCodeAt(x=m++))===rr)_=!0;else if(A===Aa)_=!0,l.charCodeAt(m)===rr&&++m;else if(A!==e)continue;return l.slice($,x)}return b=!0,l.slice($,p)}for(;(w=y())!==Ta;){for(var v=[];w!==Ou&&w!==Ta;)v.push(w),w=y();h&&(v=h(v,g++))==null||d.push(v)}return d}function o(l,h){return l.map(function(d){return h.map(function(p){return s(d[p])}).join(t)})}function a(l,h){return h==null&&(h=Uu(l)),[h.map(s).join(t)].concat(o(l,h)).join(`
`)}function f(l,h){return h==null&&(h=Uu(l)),o(l,h).join(`
`)}function c(l){return l.map(u).join(`
`)}function u(l){return l.map(s).join(t)}function s(l){return l==null?"":l instanceof Date?Wy(l):n.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:r,parseRows:i,format:a,formatBody:f,formatRows:c,formatRow:u,formatValue:s}}var Vy=Hy(","),Xy=Vy.parse;function Gy(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function jy(t,n){return fetch(t,n).then(Gy)}function Zy(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),jy(n,e).then(function(i){return t(i,r)})}}var qo=Zy(Xy);function Ky(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eo(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ze(t){return t=eo(Math.abs(t)),t?t[1]:NaN}function Qy(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Jy(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var tw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nr(t){if(!(n=tw.exec(t)))throw new Error("invalid format: "+t);var n;return new wc({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Nr.prototype=wc.prototype;function wc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nw(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Mh;function ew(t,n){var e=eo(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Mh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eo(t,Math.max(0,n+o-1))[0]}function zu(t,n){var e=eo(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qu={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ky,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>zu(t*100,n),r:zu,s:ew,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Bu(t){return t}var Yu=Array.prototype.map,Wu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rw(t){var n=t.grouping===void 0||t.thousands===void 0?Bu:Qy(Yu.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Bu:Jy(Yu.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(l){l=Nr(l);var h=l.fill,d=l.align,p=l.sign,m=l.symbol,g=l.zero,w=l.width,b=l.comma,_=l.precision,y=l.trim,v=l.type;v==="n"?(b=!0,v="g"):qu[v]||(_===void 0&&(_=12),y=!0,v="g"),(g||h==="0"&&d==="=")&&(g=!0,h="0",d="=");var x=m==="$"?e:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$=m==="$"?r:/[%p]/.test(v)?a:"",A=qu[v],C=/[defgprs%]/.test(v);_=_===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(M){var D=x,F=$,L,T,I;if(v==="c")F=A(M)+F,M="";else{M=+M;var H=M<0||1/M<0;if(M=isNaN(M)?c:A(Math.abs(M),_),y&&(M=nw(M)),H&&+M==0&&p!=="+"&&(H=!1),D=(H?p==="("?p:f:p==="-"||p==="("?"":p)+D,F=(v==="s"?Wu[8+Mh/3]:"")+F+(H&&p==="("?")":""),C){for(L=-1,T=M.length;++L<T;)if(I=M.charCodeAt(L),48>I||I>57){F=(I===46?i+M.slice(L+1):M.slice(L))+F,M=M.slice(0,L);break}}}b&&!g&&(M=n(M,1/0));var W=D.length+M.length+F.length,N=W<w?new Array(w-W+1).join(h):"";switch(b&&g&&(M=n(N+M,N.length?w-F.length:1/0),N=""),d){case"<":M=D+M+F+N;break;case"=":M=D+N+M+F;break;case"^":M=N.slice(0,W=N.length>>1)+D+M+F+N.slice(W);break;default:M=N+D+M+F;break}return o(M)}return k.toString=function(){return l+""},k}function s(l,h){var d=u((l=Nr(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(ze(h)/3)))*3,m=Math.pow(10,-p),g=Wu[8+p/3];return function(w){return d(m*w)+g}}return{format:u,formatPrefix:s}}var Mi,ye,$h;iw({thousands:",",grouping:[3],currency:["$",""]});function iw(t){return Mi=rw(t),ye=Mi.format,$h=Mi.formatPrefix,Mi}function ow(t){return Math.max(0,-ze(Math.abs(t)))}function aw(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ze(n)/3)))*3-ze(Math.abs(t)))}function fw(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ze(n)-ze(t))+1}var G=1e-6,Th=1e-12,Q=Math.PI,st=Q/2,Hu=Q/4,Ot=Q*2,At=180/Q,ut=Q/180,at=Math.abs,je=Math.atan,Dn=Math.atan2,K=Math.cos,Sh=Math.exp,ro=Math.log,Ca=Math.pow,X=Math.sin,Yt=Math.sign||function(t){return t>0?1:t<0?-1:0},Dt=Math.sqrt,_c=Math.tan;function Ah(t){return t>1?0:t<-1?Q:Math.acos(t)}function Gt(t){return t>1?st:t<-1?-st:Math.asin(t)}function Wt(){}function io(t,n){t&&Xu.hasOwnProperty(t.type)&&Xu[t.type](t,n)}var Vu={Feature:function(t,n){io(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)io(e[r].geometry,n)}},Xu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Mf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mf(e[r],n,0)},Polygon:function(t,n){Gu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Gu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)io(e[r],n)}};function Mf(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Gu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Mf(t[e],n,1);n.polygonEnd()}function ee(t,n){t&&Vu.hasOwnProperty(t.type)?Vu[t.type](t,n):io(t,n)}function $f(t){return[Dn(t[1],t[0]),Gt(t[2])]}function qe(t){var n=t[0],e=t[1],r=K(e);return[r*K(n),r*X(n),X(e)]}function $i(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function oo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ea(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ti(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Tf(t){var n=Dt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Sf(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Af(t,n){return at(t)>Q&&(t-=Math.round(t/Ot)*Ot),[t,n]}Af.invert=Af;function Ch(t,n,e){return(t%=Ot)?n||e?Sf(Zu(t),Ku(n,e)):Zu(t):n||e?Ku(n,e):Af}function ju(t){return function(n,e){return n+=t,at(n)>Q&&(n-=Math.round(n/Ot)*Ot),[n,e]}}function Zu(t){var n=ju(t);return n.invert=ju(-t),n}function Ku(t,n){var e=K(t),r=X(t),i=K(n),o=X(n);function a(f,c){var u=K(c),s=K(f)*u,l=X(f)*u,h=X(c),d=h*e+s*r;return[Dn(l*i-d*o,s*e-h*r),Gt(d*i+l*o)]}return a.invert=function(f,c){var u=K(c),s=K(f)*u,l=X(f)*u,h=X(c),d=h*i-l*o;return[Dn(l*i+h*o,s*e+d*r),Gt(d*e-s*r)]},a}function cw(t){t=Ch(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function n(e){return e=t(e[0]*ut,e[1]*ut),e[0]*=At,e[1]*=At,e}return n.invert=function(e){return e=t.invert(e[0]*ut,e[1]*ut),e[0]*=At,e[1]*=At,e},n}function uw(t,n,e,r,i,o){if(e){var a=K(n),f=X(n),c=r*e;i==null?(i=n+r*Ot,o=n-c/2):(i=Qu(a,i),o=Qu(a,o),(r>0?i<o:i>o)&&(i+=r*Ot));for(var u,s=i;r>0?s>o:s<o;s-=c)u=$f([a,-f*K(s),-f*X(s)]),t.point(u[0],u[1])}}function Qu(t,n){n=qe(n),n[0]-=t,Tf(n);var e=Ah(-n[1]);return((-n[2]<0?-e:e)+Ot-G)%Ot}function Eh(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Wt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function qi(t,n){return at(t[0]-n[0])<G&&at(t[1]-n[1])<G}function Si(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function kh(t,n,e,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],w=p[m],b;if(qi(g,w)){if(!g[2]&&!w[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}w[0]+=2*G}o.push(b=new Si(g,p,null,!0)),a.push(b.o=new Si(g,null,b,!1)),o.push(b=new Si(w,p,null,!1)),a.push(b.o=new Si(w,null,b,!0))}}),!!o.length){for(a.sort(n),Ju(o),Ju(a),f=0,c=a.length;f<c;++f)a[f].e=e=!e;for(var u=o[0],s,l;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(f=0,c=s.length;f<c;++f)i.point((l=s[f])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,f=s.length-1;f>=0;--f)i.point((l=s[f])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,d=!d}while(!h.v);i.lineEnd()}}}function Ju(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ka(t){return at(t[0])<=Q?t[0]:Yt(t[0])*((at(t[0])+Q)%Ot-Q)}function sw(t,n){var e=ka(n),r=n[1],i=X(r),o=[X(e),-K(e),0],a=0,f=0,c=new ce;i===1?r=st+G:i===-1&&(r=-st-G);for(var u=0,s=t.length;u<s;++u)if(h=(l=t[u]).length)for(var l,h,d=l[h-1],p=ka(d),m=d[1]/2+Hu,g=X(m),w=K(m),b=0;b<h;++b,p=y,g=x,w=$,d=_){var _=l[b],y=ka(_),v=_[1]/2+Hu,x=X(v),$=K(v),A=y-p,C=A>=0?1:-1,k=C*A,M=k>Q,D=g*x;if(c.add(Dn(D*C*X(k),w*$+D*K(k))),a+=M?A+C*Ot:A,M^p>=e^y>=e){var F=oo(qe(d),qe(_));Tf(F);var L=oo(o,F);Tf(L);var T=(M^A>=0?-1:1)*Gt(L[2]);(r>T||r===T&&(F[0]||F[1]))&&(f+=M^A>=0?1:-1)}}return(a<-G||a<G&&c<-Th)^f&1}function Nh(t,n,e,r){return function(i){var o=n(i),a=Eh(),f=n(a),c=!1,u,s,l,h={point:d,lineStart:m,lineEnd:g,polygonStart:function(){h.point=w,h.lineStart=b,h.lineEnd=_,s=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=g,s=Pl(s);var y=sw(u,r);s.length?(c||(i.polygonStart(),c=!0),kh(s,hw,y,e,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),s=u=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,v){t(y,v)&&i.point(y,v)}function p(y,v){o.point(y,v)}function m(){h.point=p,o.lineStart()}function g(){h.point=d,o.lineEnd()}function w(y,v){l.push([y,v]),f.point(y,v)}function b(){f.lineStart(),l=[]}function _(){w(l[0][0],l[0][1]),f.lineEnd();var y=f.clean(),v=a.result(),x,$=v.length,A,C,k;if(l.pop(),u.push(l),l=null,!!$){if(y&1){if(C=v[0],(A=C.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<A;++x)i.point((k=C[x])[0],k[1]);i.lineEnd()}return}$>1&&y&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(lw))}}return h}}function lw(t){return t.length>1}function hw(t,n){return((t=t.x)[0]<0?t[1]-st-G:st-t[1])-((n=n.x)[0]<0?n[1]-st-G:st-n[1])}const ts=Nh(function(){return!0},dw,mw,[-Q,-st]);function dw(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?Q:-Q,c=at(o-n);at(c-Q)<G?(t.point(n,e=(e+a)/2>0?st:-st),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&c>=Q&&(at(n-r)<G&&(n-=r*G),at(o-f)<G&&(o-=f*G),e=pw(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function pw(t,n,e,r){var i,o,a=X(t-e);return at(a)>G?je((X(n)*(o=K(r))*X(e)-X(r)*(i=K(n))*X(t))/(i*o*a)):(n+r)/2}function mw(t,n,e,r){var i;if(t==null)i=e*st,r.point(-Q,i),r.point(0,i),r.point(Q,i),r.point(Q,0),r.point(Q,-i),r.point(0,-i),r.point(-Q,-i),r.point(-Q,0),r.point(-Q,i);else if(at(t[0]-n[0])>G){var o=t[0]<n[0]?Q:-Q;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function gw(t){var n=K(t),e=6*ut,r=n>0,i=at(n)>G;function o(s,l,h,d){uw(d,t,e,h,s,l)}function a(s,l){return K(s)*K(l)>n}function f(s){var l,h,d,p,m;return{lineStart:function(){p=d=!1,m=1},point:function(g,w){var b=[g,w],_,y=a(g,w),v=r?y?0:u(g,w):y?u(g+(g<0?Q:-Q),w):0;if(!l&&(p=d=y)&&s.lineStart(),y!==d&&(_=c(l,b),(!_||qi(l,_)||qi(b,_))&&(b[2]=1)),y!==d)m=0,y?(s.lineStart(),_=c(b,l),s.point(_[0],_[1])):(_=c(l,b),s.point(_[0],_[1],2),s.lineEnd()),l=_;else if(i&&l&&r^y){var x;!(v&h)&&(x=c(b,l,!0))&&(m=0,r?(s.lineStart(),s.point(x[0][0],x[0][1]),s.point(x[1][0],x[1][1]),s.lineEnd()):(s.point(x[1][0],x[1][1]),s.lineEnd(),s.lineStart(),s.point(x[0][0],x[0][1],3)))}y&&(!l||!qi(l,b))&&s.point(b[0],b[1]),l=b,d=y,h=v},lineEnd:function(){d&&s.lineEnd(),l=null},clean:function(){return m|(p&&d)<<1}}}function c(s,l,h){var d=qe(s),p=qe(l),m=[1,0,0],g=oo(d,p),w=$i(g,g),b=g[0],_=w-b*b;if(!_)return!h&&s;var y=n*w/_,v=-n*b/_,x=oo(m,g),$=Ti(m,y),A=Ti(g,v);Ea($,A);var C=x,k=$i($,C),M=$i(C,C),D=k*k-M*($i($,$)-1);if(!(D<0)){var F=Dt(D),L=Ti(C,(-k-F)/M);if(Ea(L,$),L=$f(L),!h)return L;var T=s[0],I=l[0],H=s[1],W=l[1],N;I<T&&(N=T,T=I,I=N);var U=I-T,z=at(U-Q)<G,R=z||U<G;if(!z&&W<H&&(N=H,H=W,W=N),R?z?H+W>0^L[1]<(at(L[0]-T)<G?H:W):H<=L[1]&&L[1]<=W:U>Q^(T<=L[0]&&L[0]<=I)){var B=Ti(C,(-k+F)/M);return Ea(B,$),[L,$f(B)]}}}function u(s,l){var h=r?t:Q-t,d=0;return s<-h?d|=1:s>h&&(d|=2),l<-h?d|=4:l>h&&(d|=8),d}return Nh(a,f,o,r?[0,-t]:[-Q,t-Q])}function bw(t,n,e,r,i,o){var a=t[0],f=t[1],c=n[0],u=n[1],s=0,l=1,h=c-a,d=u-f,p;if(p=e-a,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>s&&(s=p)}if(p=i-a,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<l&&(l=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<s)return;p<l&&(l=p)}else if(d>0){if(p>l)return;p>s&&(s=p)}if(p=o-f,!(!d&&p<0)){if(p/=d,d<0){if(p>l)return;p>s&&(s=p)}else if(d>0){if(p<s)return;p<l&&(l=p)}return s>0&&(t[0]=a+s*h,t[1]=f+s*d),l<1&&(n[0]=a+l*h,n[1]=f+l*d),!0}}}}}var lr=1e9,Ai=-lr;function Dh(t,n,e,r){function i(u,s){return t<=u&&u<=e&&n<=s&&s<=r}function o(u,s,l,h){var d=0,p=0;if(u==null||(d=a(u,l))!==(p=a(s,l))||c(u,s)<0^l>0)do h.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+l+4)%4)!==p);else h.point(s[0],s[1])}function a(u,s){return at(u[0]-t)<G?s>0?0:3:at(u[0]-e)<G?s>0?2:1:at(u[1]-n)<G?s>0?1:0:s>0?3:2}function f(u,s){return c(u.x,s.x)}function c(u,s){var l=a(u,1),h=a(s,1);return l!==h?l-h:l===0?s[1]-u[1]:l===1?u[0]-s[0]:l===2?u[1]-s[1]:s[0]-u[0]}return function(u){var s=u,l=Eh(),h,d,p,m,g,w,b,_,y,v,x,$={point:A,lineStart:D,lineEnd:F,polygonStart:k,polygonEnd:M};function A(T,I){i(T,I)&&s.point(T,I)}function C(){for(var T=0,I=0,H=d.length;I<H;++I)for(var W=d[I],N=1,U=W.length,z=W[0],R,B,et=z[0],J=z[1];N<U;++N)R=et,B=J,z=W[N],et=z[0],J=z[1],B<=r?J>r&&(et-R)*(r-B)>(J-B)*(t-R)&&++T:J<=r&&(et-R)*(r-B)<(J-B)*(t-R)&&--T;return T}function k(){s=l,h=[],d=[],x=!0}function M(){var T=C(),I=x&&T,H=(h=Pl(h)).length;(I||H)&&(u.polygonStart(),I&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),H&&kh(h,f,T,o,u),u.polygonEnd()),s=u,h=d=p=null}function D(){$.point=L,d&&d.push(p=[]),v=!0,y=!1,b=_=NaN}function F(){h&&(L(m,g),w&&y&&l.rejoin(),h.push(l.result())),$.point=A,y&&s.lineEnd()}function L(T,I){var H=i(T,I);if(d&&p.push([T,I]),v)m=T,g=I,w=H,v=!1,H&&(s.lineStart(),s.point(T,I));else if(H&&y)s.point(T,I);else{var W=[b=Math.max(Ai,Math.min(lr,b)),_=Math.max(Ai,Math.min(lr,_))],N=[T=Math.max(Ai,Math.min(lr,T)),I=Math.max(Ai,Math.min(lr,I))];bw(W,N,t,n,e,r)?(y||(s.lineStart(),s.point(W[0],W[1])),s.point(N[0],N[1]),H||s.lineEnd(),x=!1):H&&(s.lineStart(),s.point(T,I),x=!1)}b=T,_=I,y=H}return $}}const Cf=t=>t;var Na=new ce,Ef=new ce,Lh,Ih,kf,Nf,Sn={point:Wt,lineStart:Wt,lineEnd:Wt,polygonStart:function(){Sn.lineStart=yw,Sn.lineEnd=_w},polygonEnd:function(){Sn.lineStart=Sn.lineEnd=Sn.point=Wt,Na.add(at(Ef)),Ef=new ce},result:function(){var t=Na/2;return Na=new ce,t}};function yw(){Sn.point=ww}function ww(t,n){Sn.point=Fh,Lh=kf=t,Ih=Nf=n}function Fh(t,n){Ef.add(Nf*t-kf*n),kf=t,Nf=n}function _w(){Fh(Lh,Ih)}var Be=1/0,ao=Be,Dr=-Be,fo=Dr,co={point:vw,lineStart:Wt,lineEnd:Wt,polygonStart:Wt,polygonEnd:Wt,result:function(){var t=[[Be,ao],[Dr,fo]];return Dr=fo=-(ao=Be=1/0),t}};function vw(t,n){t<Be&&(Be=t),t>Dr&&(Dr=t),n<ao&&(ao=n),n>fo&&(fo=n)}var Df=0,Lf=0,hr=0,uo=0,so=0,Ce=0,If=0,Ff=0,dr=0,Rh,Ph,cn,un,Bt={point:pe,lineStart:ns,lineEnd:es,polygonStart:function(){Bt.lineStart=$w,Bt.lineEnd=Tw},polygonEnd:function(){Bt.point=pe,Bt.lineStart=ns,Bt.lineEnd=es},result:function(){var t=dr?[If/dr,Ff/dr]:Ce?[uo/Ce,so/Ce]:hr?[Df/hr,Lf/hr]:[NaN,NaN];return Df=Lf=hr=uo=so=Ce=If=Ff=dr=0,t}};function pe(t,n){Df+=t,Lf+=n,++hr}function ns(){Bt.point=xw}function xw(t,n){Bt.point=Mw,pe(cn=t,un=n)}function Mw(t,n){var e=t-cn,r=n-un,i=Dt(e*e+r*r);uo+=i*(cn+t)/2,so+=i*(un+n)/2,Ce+=i,pe(cn=t,un=n)}function es(){Bt.point=pe}function $w(){Bt.point=Sw}function Tw(){Oh(Rh,Ph)}function Sw(t,n){Bt.point=Oh,pe(Rh=cn=t,Ph=un=n)}function Oh(t,n){var e=t-cn,r=n-un,i=Dt(e*e+r*r);uo+=i*(cn+t)/2,so+=i*(un+n)/2,Ce+=i,i=un*t-cn*n,If+=i*(cn+t),Ff+=i*(un+n),dr+=i*3,pe(cn=t,un=n)}function Uh(t){this._context=t}Uh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ot);break}}},result:Wt};var Rf=new ce,Da,zh,qh,pr,mr,Lr={point:Wt,lineStart:function(){Lr.point=Aw},lineEnd:function(){Da&&Bh(zh,qh),Lr.point=Wt},polygonStart:function(){Da=!0},polygonEnd:function(){Da=null},result:function(){var t=+Rf;return Rf=new ce,t}};function Aw(t,n){Lr.point=Bh,zh=pr=t,qh=mr=n}function Bh(t,n){pr-=t,mr-=n,Rf.add(Dt(pr*pr+mr*mr)),pr=t,mr=n}let rs,lo,is,os;class as{constructor(n){this._append=n==null?Yh:Cw(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==is||this._append!==lo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,is=r,lo=this._append,os=this._,this._=i}this._+=os;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Yh(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Cw(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Yh;if(n!==rs){const e=10**n;rs=n,lo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return lo}function vc(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ee(f,i(o))),o.result()}return a.area=function(f){return ee(f,i(Sn)),Sn.result()},a.measure=function(f){return ee(f,i(Lr)),Lr.result()},a.bounds=function(f){return ee(f,i(co)),co.result()},a.centroid=function(f){return ee(f,i(Bt)),Bt.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,Cf):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new as(e)):new Uh(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(o=new as(e)),a},a.projection(t).digits(e).context(n)}function Pf(t){return{stream:Bo(t)}}function Bo(t){return function(n){var e=new Of;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Of(){}Of.prototype={constructor:Of,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function xc(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ee(e,t.stream(co)),n(co.result()),r!=null&&t.clipExtent(r),t}function Mc(t,n,e){return xc(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},e)}function Wh(t,n,e){return Mc(t,[[0,0],n],e)}function Hh(t,n,e){return xc(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function Vh(t,n,e){return xc(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var fs=16,Ew=K(30*ut);function cs(t,n){return+n?Nw(t,n):kw(t)}function kw(t){return Bo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Nw(t,n){function e(r,i,o,a,f,c,u,s,l,h,d,p,m,g){var w=u-r,b=s-i,_=w*w+b*b;if(_>4*n&&m--){var y=a+h,v=f+d,x=c+p,$=Dt(y*y+v*v+x*x),A=Gt(x/=$),C=at(at(x)-1)<G||at(o-l)<G?(o+l)/2:Dn(v,y),k=t(C,A),M=k[0],D=k[1],F=M-r,L=D-i,T=b*F-w*L;(T*T/_>n||at((w*F+b*L)/_-.5)>.3||a*h+f*d+c*p<Ew)&&(e(r,i,o,a,f,c,M,D,C,y/=$,v/=$,x,m,g),g.point(M,D),e(M,D,C,y,v,x,u,s,l,h,d,p,m,g))}}return function(r){var i,o,a,f,c,u,s,l,h,d,p,m,g={point:w,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function w(A,C){A=t(A,C),r.point(A[0],A[1])}function b(){l=NaN,g.point=_,r.lineStart()}function _(A,C){var k=qe([A,C]),M=t(A,C);e(l,h,s,d,p,m,l=M[0],h=M[1],s=A,d=k[0],p=k[1],m=k[2],fs,r),r.point(l,h)}function y(){g.point=w,r.lineEnd()}function v(){b(),g.point=x,g.lineEnd=$}function x(A,C){_(i=A,C),o=l,a=h,f=d,c=p,u=m,g.point=_}function $(){e(l,h,s,d,p,m,o,a,i,f,c,u,fs,r),g.lineEnd=y,y()}return g}}var Dw=Bo({point:function(t,n){this.stream.point(t*ut,n*ut)}});function Lw(t){return Bo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Iw(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function us(t,n,e,r,i,o){if(!o)return Iw(t,n,e,r,i);var a=K(o),f=X(o),c=a*t,u=f*t,s=a/t,l=f/t,h=(f*e-a*n)/t,d=(f*n+a*e)/t;function p(m,g){return m*=r,g*=i,[c*m-u*g+n,e-u*m-c*g]}return p.invert=function(m,g){return[r*(s*m-l*g+h),i*(d-l*m-s*g)]},p}function Vn(t){return Xh(function(){return t})()}function Xh(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,c=0,u=0,s,l=0,h=1,d=1,p=null,m=ts,g=null,w,b,_,y=Cf,v=.5,x,$,A,C,k;function M(T){return A(T[0]*ut,T[1]*ut)}function D(T){return T=A.invert(T[0],T[1]),T&&[T[0]*At,T[1]*At]}M.stream=function(T){return C&&k===T?C:C=Dw(Lw(s)(m(x(y(k=T)))))},M.preclip=function(T){return arguments.length?(m=T,p=void 0,L()):m},M.postclip=function(T){return arguments.length?(y=T,g=w=b=_=null,L()):y},M.clipAngle=function(T){return arguments.length?(m=+T?gw(p=T*ut):(p=null,ts),L()):p*At},M.clipExtent=function(T){return arguments.length?(y=T==null?(g=w=b=_=null,Cf):Dh(g=+T[0][0],w=+T[0][1],b=+T[1][0],_=+T[1][1]),L()):g==null?null:[[g,w],[b,_]]},M.scale=function(T){return arguments.length?(e=+T,F()):e},M.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],F()):[r,i]},M.center=function(T){return arguments.length?(o=T[0]%360*ut,a=T[1]%360*ut,F()):[o*At,a*At]},M.rotate=function(T){return arguments.length?(f=T[0]%360*ut,c=T[1]%360*ut,u=T.length>2?T[2]%360*ut:0,F()):[f*At,c*At,u*At]},M.angle=function(T){return arguments.length?(l=T%360*ut,F()):l*At},M.reflectX=function(T){return arguments.length?(h=T?-1:1,F()):h<0},M.reflectY=function(T){return arguments.length?(d=T?-1:1,F()):d<0},M.precision=function(T){return arguments.length?(x=cs($,v=T*T),L()):Dt(v)},M.fitExtent=function(T,I){return Mc(M,T,I)},M.fitSize=function(T,I){return Wh(M,T,I)},M.fitWidth=function(T,I){return Hh(M,T,I)},M.fitHeight=function(T,I){return Vh(M,T,I)};function F(){var T=us(e,0,0,h,d,l).apply(null,n(o,a)),I=us(e,r-T[0],i-T[1],h,d,l);return s=Ch(f,c,u),$=Sf(n,I),A=Sf(s,$),x=cs($,v),L()}function L(){return C=k=null,M}return function(){return n=t.apply(this,arguments),M.invert=n.invert&&D,F()}}function $c(t){var n=0,e=Q/3,r=Xh(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ut,e=o[1]*ut):[n*At,e*At]},i}function Fw(t){var n=K(t);function e(r,i){return[r*n,X(i)/n]}return e.invert=function(r,i){return[r/n,Gt(i*n)]},e}function Rw(t,n){var e=X(t),r=(e+X(n))/2;if(at(r)<G)return Fw(t);var i=1+e*(2*r-e),o=Dt(i)/r;function a(f,c){var u=Dt(i-2*r*X(c))/r;return[u*X(f*=r),o-u*K(f)]}return a.invert=function(f,c){var u=o-c,s=Dn(f,at(u))*Yt(u);return u*r<0&&(s-=Q*Yt(f)*Yt(u)),[s/r,Gt((i-(f*f+u*u)*r*r)/(2*r))]},a}function ho(){return $c(Rw).scale(155.424).center([0,33.6442])}function Gh(){return ho().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Pw(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function Ow(){var t,n,e=Gh(),r,i=ho().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ho().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,u={point:function(h,d){c=[h,d]}};function s(h){var d=h[0],p=h[1];return c=null,r.point(d,p),c||(o.point(d,p),c)||(f.point(d,p),c)}s.invert=function(h){var d=e.scale(),p=e.translate(),m=(h[0]-p[0])/d,g=(h[1]-p[1])/d;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:e).invert(h)},s.stream=function(h){return t&&n===h?t:t=Pw([e.stream(n=h),i.stream(h),a.stream(h)])},s.precision=function(h){return arguments.length?(e.precision(h),i.precision(h),a.precision(h),l()):e.precision()},s.scale=function(h){return arguments.length?(e.scale(h),i.scale(h*.35),a.scale(h),s.translate(e.translate())):e.scale()},s.translate=function(h){if(!arguments.length)return e.translate();var d=e.scale(),p=+h[0],m=+h[1];return r=e.translate(h).clipExtent([[p-.455*d,m-.238*d],[p+.455*d,m+.238*d]]).stream(u),o=i.translate([p-.307*d,m+.201*d]).clipExtent([[p-.425*d+G,m+.12*d+G],[p-.214*d-G,m+.234*d-G]]).stream(u),f=a.translate([p-.205*d,m+.212*d]).clipExtent([[p-.214*d+G,m+.166*d+G],[p-.115*d-G,m+.234*d-G]]).stream(u),l()},s.fitExtent=function(h,d){return Mc(s,h,d)},s.fitSize=function(h,d){return Wh(s,h,d)},s.fitWidth=function(h,d){return Hh(s,h,d)},s.fitHeight=function(h,d){return Vh(s,h,d)};function l(){return t=n=null,s}return s.scale(1070)}function jh(t){return function(n,e){var r=K(n),i=K(e),o=t(r*i);return o===1/0?[2,0]:[o*i*X(n),o*X(e)]}}function Zr(t){return function(n,e){var r=Dt(n*n+e*e),i=t(r),o=X(i),a=K(i);return[Dn(n*o,r*a),Gt(r&&e*o/r)]}}var Zh=jh(function(t){return Dt(2/(1+t))});Zh.invert=Zr(function(t){return 2*Gt(t/2)});function Uw(){return Vn(Zh).scale(124.75).clipAngle(180-.001)}var Kh=jh(function(t){return(t=Ah(t))&&t/X(t)});Kh.invert=Zr(function(t){return t});function zw(){return Vn(Kh).scale(79.4188).clipAngle(180-.001)}function Yo(t,n){return[t,ro(_c((st+n)/2))]}Yo.invert=function(t,n){return[t,2*je(Sh(n))-st]};function qw(){return Qh(Yo).scale(961/Ot)}function Qh(t){var n=Vn(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,c,u;n.scale=function(l){return arguments.length?(r(l),s()):r()},n.translate=function(l){return arguments.length?(i(l),s()):i()},n.center=function(l){return arguments.length?(e(l),s()):e()},n.clipExtent=function(l){return arguments.length?(l==null?a=f=c=u=null:(a=+l[0][0],f=+l[0][1],c=+l[1][0],u=+l[1][1]),s()):a==null?null:[[a,f],[c,u]]};function s(){var l=Q*r(),h=n(cw(n.rotate()).invert([0,0]));return o(a==null?[[h[0]-l,h[1]-l],[h[0]+l,h[1]+l]]:t===Yo?[[Math.max(h[0]-l,a),f],[Math.min(h[0]+l,c),u]]:[[a,Math.max(h[1]-l,f)],[c,Math.min(h[1]+l,u)]])}return s()}function Ci(t){return _c((st+t)/2)}function Bw(t,n){var e=K(t),r=t===n?X(t):ro(e/K(n))/ro(Ci(n)/Ci(t)),i=e*Ca(Ci(t),r)/r;if(!r)return Yo;function o(a,f){i>0?f<-st+G&&(f=-st+G):f>st-G&&(f=st-G);var c=i/Ca(Ci(f),r);return[c*X(r*a),i-c*K(r*a)]}return o.invert=function(a,f){var c=i-f,u=Yt(r)*Dt(a*a+c*c),s=Dn(a,at(c))*Yt(c);return c*r<0&&(s-=Q*Yt(a)*Yt(c)),[s/r,2*je(Ca(i/u,1/r))-st]},o}function Yw(){return $c(Bw).scale(109.5).parallels([30,30])}function po(t,n){return[t,n]}po.invert=po;function Ww(){return Vn(po).scale(152.63)}function Hw(t,n){var e=K(t),r=t===n?X(t):(e-K(n))/(n-t),i=e/r+t;if(at(r)<G)return po;function o(a,f){var c=i-f,u=r*a;return[c*X(u),i-c*K(u)]}return o.invert=function(a,f){var c=i-f,u=Dn(a,at(c))*Yt(c);return c*r<0&&(u-=Q*Yt(a)*Yt(c)),[u/r,i-Yt(r)*Dt(a*a+c*c)]},o}function Vw(){return $c(Hw).scale(131.154).center([0,13.9389])}var _r=1.340264,vr=-.081106,xr=893e-6,Mr=.003796,mo=Dt(3)/2,Xw=12;function Jh(t,n){var e=Gt(mo*X(n)),r=e*e,i=r*r*r;return[t*K(e)/(mo*(_r+3*vr*r+i*(7*xr+9*Mr*r))),e*(_r+vr*r+i*(xr+Mr*r))]}Jh.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,c;o<Xw&&(f=e*(_r+vr*r+i*(xr+Mr*r))-n,c=_r+3*vr*r+i*(7*xr+9*Mr*r),e-=a=f/c,r=e*e,i=r*r*r,!(at(a)<Th));++o);return[mo*t*(_r+3*vr*r+i*(7*xr+9*Mr*r))/K(e),Gt(X(e)/mo)]};function Gw(){return Vn(Jh).scale(177.158)}function td(t,n){var e=K(n),r=K(t)*e;return[e*X(t)/r,X(n)/r]}td.invert=Zr(je);function jw(){return Vn(td).scale(144.049).clipAngle(60)}function nd(t,n){return[K(n)*X(t),X(n)]}nd.invert=Zr(Gt);function Zw(){return Vn(nd).scale(249.5).clipAngle(90+G)}function ed(t,n){var e=K(n),r=1+K(t)*e;return[e*X(t)/r,X(n)/r]}ed.invert=Zr(function(t){return 2*je(t)});function Kw(){return Vn(ed).scale(250).clipAngle(142)}function rd(t,n){return[ro(_c((st+n)/2)),-t]}rd.invert=function(t,n){return[-n,2*je(Sh(t))-st]};function Qw(){var t=Qh(rd),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function yn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Wo(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Uf=Symbol("implicit");function Tc(){var t=new ue,n=[],e=[],r=Uf;function i(o){let a=t.get(o);if(a===void 0){if(r!==Uf)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new ue;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Tc(n,e).unknown(r)},yn.apply(i,arguments),i}function Ho(){var t=Tc().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,c=0,u=0,s=.5;delete t.unknown;function l(){var h=n().length,d=i<r,p=d?i:r,m=d?r:i;o=(m-p)/Math.max(1,h-c+u*2),f&&(o=Math.floor(o)),p+=(m-p-o*(h-c))*s,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var g=uf(h).map(function(w){return p+o*w});return e(d?g.reverse():g)}return t.domain=function(h){return arguments.length?(n(h),l()):n()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,l()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,f=!0,l()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(f=!!h,l()):f},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),l()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),l()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,l()):u},t.align=function(h){return arguments.length?(s=Math.max(0,Math.min(1,h)),l()):s},t.copy=function(){return Ho(n(),[r,i]).round(f).paddingInner(c).paddingOuter(u).align(s)},yn.apply(l(),arguments)}function id(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return id(n())},t}function Jw(){return id(Ho.apply(null,arguments).paddingInner(1))}function t6(t){return function(){return t}}function zf(t){return+t}var ss=[0,1];function Ht(t){return t}function qf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:t6(isNaN(n)?NaN:.5)}function n6(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function e6(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=qf(i,r),o=e(a,o)):(r=qf(r,i),o=e(o,a)),function(f){return o(r(f))}}function r6(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=qf(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var c=No(t,f,1,r)-1;return o[c](i[c](f))}}function Kr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vo(){var t=ss,n=ss,e=jr,r,i,o,a=Ht,f,c,u;function s(){var h=Math.min(t.length,n.length);return a!==Ht&&(a=n6(t[0],t[h-1])),f=h>2?r6:e6,c=u=null,l}function l(h){return h==null||isNaN(h=+h)?o:(c||(c=f(t.map(r),n,e)))(r(a(h)))}return l.invert=function(h){return a(i((u||(u=f(n,t.map(r),Mt)))(h)))},l.domain=function(h){return arguments.length?(t=Array.from(h,zf),s()):t.slice()},l.range=function(h){return arguments.length?(n=Array.from(h),s()):n.slice()},l.rangeRound=function(h){return n=Array.from(h),e=pc,s()},l.clamp=function(h){return arguments.length?(a=h?!0:Ht,s()):a!==Ht},l.interpolate=function(h){return arguments.length?(e=h,s()):e},l.unknown=function(h){return arguments.length?(o=h,l):o},function(h,d){return r=h,i=d,s()}}function od(){return Vo()(Ht,Ht)}function i6(t,n,e,r){var i=cf(t,n,e),o;switch(r=Nr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=aw(i,a))&&(r.precision=o),$h(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=fw(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ow(i))&&(r.precision=o-(r.type==="%")*2);break}}return ye(r)}function Qr(t){var n=t.domain;return t.ticks=function(e){var r=n();return Ar(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return i6(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],c,u,s=10;for(f<a&&(u=a,a=f,f=u,u=i,i=o,o=u);s-- >0;){if(u=Xi(a,f,e),u===c)return r[i]=a,r[o]=f,n(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;c=u}return t},t}function Sc(){var t=od();return t.copy=function(){return Kr(t,Sc())},yn.apply(t,arguments),Qr(t)}function ad(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,zf),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return ad(t).unknown(n)},t=arguments.length?Array.from(t,zf):[0,1],Qr(e)}function fd(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function ls(t){return Math.log(t)}function hs(t){return Math.exp(t)}function o6(t){return-Math.log(-t)}function a6(t){return-Math.exp(-t)}function f6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function c6(t){return t===10?f6:t===Math.E?Math.exp:n=>Math.pow(t,n)}function u6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function ds(t){return(n,e)=>-t(-n,e)}function cd(t){const n=t(ls,hs),e=n.domain;let r=10,i,o;function a(){return i=u6(r),o=c6(r),e()[0]<0?(i=ds(i),o=ds(o),t(o6,a6)):t(ls,hs),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const c=e();let u=c[0],s=c[c.length-1];const l=s<u;l&&([u,s]=[s,u]);let h=i(u),d=i(s),p,m;const g=f==null?10:+f;let w=[];if(!(r%1)&&d-h<g){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(p=1;p<r;++p)if(m=h<0?p/o(-h):p*o(h),!(m<u)){if(m>s)break;w.push(m)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/o(-h):p*o(h),!(m<u)){if(m>s)break;w.push(m)}w.length*2<g&&(w=Ar(u,s,g))}else w=Ar(h,d,Math.min(d-h,g)).map(o);return l?w.reverse():w},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Nr(c)).precision==null&&(c.trim=!0),c=ye(c)),f===1/0)return c;const u=Math.max(1,r*f/n.ticks().length);return s=>{let l=s/o(Math.round(i(s)));return l*r<r-.5&&(l*=r),l<=u?c(s):""}},n.nice=()=>e(fd(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function ud(){const t=cd(Vo()).domain([1,10]);return t.copy=()=>Kr(t,ud()).base(t.base()),yn.apply(t,arguments),t}function ps(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function ms(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function sd(t){var n=1,e=t(ps(n),ms(n));return e.constant=function(r){return arguments.length?t(ps(n=+r),ms(n)):n},Qr(e)}function ld(){var t=sd(Vo());return t.copy=function(){return Kr(t,ld()).constant(t.constant())},yn.apply(t,arguments)}function gs(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function s6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function l6(t){return t<0?-t*t:t*t}function hd(t){var n=t(Ht,Ht),e=1;function r(){return e===1?t(Ht,Ht):e===.5?t(s6,l6):t(gs(e),gs(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Qr(n)}function dd(){var t=hd(Vo());return t.copy=function(){return Kr(t,dd()).exponent(t.exponent())},yn.apply(t,arguments),t}function pd(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=Zm(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[No(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(vt),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return pd().domain(t).range(n).unknown(r)},yn.apply(o,arguments)}function md(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[No(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return md().domain(t).range(n).unknown(e)},yn.apply(i,arguments)}const La=new Date,Ia=new Date;function pt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let u;do c.push(u=new Date(+o)),n(o,f),t(o);while(u<o&&o<a);return c},i.filter=o=>pt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(La.setTime(+o),Ia.setTime(+a),t(La),t(Ia),Math.floor(e(La,Ia))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const go=pt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);go.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):go);go.range;const Cn=1e3,Vt=Cn*60,En=Vt*60,Ln=En*24,Ac=Ln*7,bs=Ln*30,Fa=Ln*365,Kt=pt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Cn)},(t,n)=>(n-t)/Cn,t=>t.getUTCSeconds());Kt.range;const Jr=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cn)},(t,n)=>{t.setTime(+t+n*Vt)},(t,n)=>(n-t)/Vt,t=>t.getMinutes());Jr.range;const ti=pt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Vt)},(t,n)=>(n-t)/Vt,t=>t.getUTCMinutes());ti.range;const ni=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cn-t.getMinutes()*Vt)},(t,n)=>{t.setTime(+t+n*En)},(t,n)=>(n-t)/En,t=>t.getHours());ni.range;const ei=pt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*En)},(t,n)=>(n-t)/En,t=>t.getUTCHours());ei.range;const we=pt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vt)/Ln,t=>t.getDate()-1);we.range;const Xo=pt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Ln,t=>t.getUTCDate()-1);Xo.range;const Go=pt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Ln,t=>Math.floor(t/Ln));Go.range;function _e(t){return pt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Vt)/Ac)}const Ye=_e(0),Ir=_e(1),gd=_e(2),bd=_e(3),me=_e(4),yd=_e(5),wd=_e(6);Ye.range;Ir.range;gd.range;bd.range;me.range;yd.range;wd.range;function ve(t){return pt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Ac)}const We=ve(0),Fr=ve(1),_d=ve(2),vd=ve(3),ge=ve(4),xd=ve(5),Md=ve(6);We.range;Fr.range;_d.range;vd.range;ge.range;xd.range;Md.range;const ri=pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ri.range;const ii=pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ii.range;const Jt=pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Jt.range;const tn=pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());tn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});tn.range;function $d(t,n,e,r,i,o){const a=[[Kt,1,Cn],[Kt,5,5*Cn],[Kt,15,15*Cn],[Kt,30,30*Cn],[o,1,Vt],[o,5,5*Vt],[o,15,15*Vt],[o,30,30*Vt],[i,1,En],[i,3,3*En],[i,6,6*En],[i,12,12*En],[r,1,Ln],[r,2,2*Ln],[e,1,Ac],[n,1,bs],[n,3,3*bs],[t,1,Fa]];function f(u,s,l){const h=s<u;h&&([u,s]=[s,u]);const d=l&&typeof l.range=="function"?l:c(u,s,l),p=d?d.range(u,+s+1):[];return h?p.reverse():p}function c(u,s,l){const h=Math.abs(s-u)/l,d=ko(([,,g])=>g).right(a,h);if(d===a.length)return t.every(cf(u/Fa,s/Fa,l));if(d===0)return go.every(Math.max(cf(u,s,l),1));const[p,m]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return p.every(m)}return[f,c]}const[h6,Td]=$d(tn,ii,We,Go,ei,ti),[d6,p6]=$d(Jt,ri,Ye,we,ni,Jr);function Ra(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pa(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ir(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function m6(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,u=or(i),s=ar(i),l=or(o),h=ar(o),d=or(a),p=ar(a),m=or(f),g=ar(f),w=or(c),b=ar(c),_={a:H,A:W,b:N,B:U,c:null,d:Ms,e:Ms,f:O6,g:G6,G:Z6,H:F6,I:R6,j:P6,L:Sd,m:U6,M:z6,p:z,q:R,Q:Ss,s:As,S:q6,u:B6,U:Y6,V:W6,w:H6,W:V6,x:null,X:null,y:X6,Y:j6,Z:K6,"%":Ts},y={a:B,A:et,b:J,B:tt,c:null,d:$s,e:$s,f:n_,g:l_,G:d_,H:Q6,I:J6,j:t_,L:Cd,m:e_,M:r_,p:P,q:V,Q:Ss,s:As,S:i_,u:o_,U:a_,V:f_,w:c_,W:u_,x:null,X:null,y:s_,Y:h_,Z:p_,"%":Ts},v={a:k,A:M,b:D,B:F,c:L,d:vs,e:vs,f:N6,g:_s,G:ws,H:xs,I:xs,j:A6,L:k6,m:S6,M:C6,p:C,q:T6,Q:L6,s:I6,S:E6,u:_6,U:v6,V:x6,w:w6,W:M6,x:T,X:I,y:_s,Y:ws,Z:$6,"%":D6};_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),y.x=x(e,y),y.X=x(r,y),y.c=x(n,y);function x(E,O){return function(q){var S=[],nt=-1,Y=0,ot=E.length,ct,xt,On;for(q instanceof Date||(q=new Date(+q));++nt<ot;)E.charCodeAt(nt)===37&&(S.push(E.slice(Y,nt)),(xt=ys[ct=E.charAt(++nt)])!=null?ct=E.charAt(++nt):xt=ct==="e"?" ":"0",(On=O[ct])&&(ct=On(q,xt)),S.push(ct),Y=nt+1);return S.push(E.slice(Y,nt)),S.join("")}}function $(E,O){return function(q){var S=ir(1900,void 0,1),nt=A(S,E,q+="",0),Y,ot;if(nt!=q.length)return null;if("Q"in S)return new Date(S.Q);if("s"in S)return new Date(S.s*1e3+("L"in S?S.L:0));if(O&&!("Z"in S)&&(S.Z=0),"p"in S&&(S.H=S.H%12+S.p*12),S.m===void 0&&(S.m="q"in S?S.q:0),"V"in S){if(S.V<1||S.V>53)return null;"w"in S||(S.w=1),"Z"in S?(Y=Pa(ir(S.y,0,1)),ot=Y.getUTCDay(),Y=ot>4||ot===0?Fr.ceil(Y):Fr(Y),Y=Xo.offset(Y,(S.V-1)*7),S.y=Y.getUTCFullYear(),S.m=Y.getUTCMonth(),S.d=Y.getUTCDate()+(S.w+6)%7):(Y=Ra(ir(S.y,0,1)),ot=Y.getDay(),Y=ot>4||ot===0?Ir.ceil(Y):Ir(Y),Y=we.offset(Y,(S.V-1)*7),S.y=Y.getFullYear(),S.m=Y.getMonth(),S.d=Y.getDate()+(S.w+6)%7)}else("W"in S||"U"in S)&&("w"in S||(S.w="u"in S?S.u%7:"W"in S?1:0),ot="Z"in S?Pa(ir(S.y,0,1)).getUTCDay():Ra(ir(S.y,0,1)).getDay(),S.m=0,S.d="W"in S?(S.w+6)%7+S.W*7-(ot+5)%7:S.w+S.U*7-(ot+6)%7);return"Z"in S?(S.H+=S.Z/100|0,S.M+=S.Z%100,Pa(S)):Ra(S)}}function A(E,O,q,S){for(var nt=0,Y=O.length,ot=q.length,ct,xt;nt<Y;){if(S>=ot)return-1;if(ct=O.charCodeAt(nt++),ct===37){if(ct=O.charAt(nt++),xt=v[ct in ys?O.charAt(nt++):ct],!xt||(S=xt(E,q,S))<0)return-1}else if(ct!=q.charCodeAt(S++))return-1}return S}function C(E,O,q){var S=u.exec(O.slice(q));return S?(E.p=s.get(S[0].toLowerCase()),q+S[0].length):-1}function k(E,O,q){var S=d.exec(O.slice(q));return S?(E.w=p.get(S[0].toLowerCase()),q+S[0].length):-1}function M(E,O,q){var S=l.exec(O.slice(q));return S?(E.w=h.get(S[0].toLowerCase()),q+S[0].length):-1}function D(E,O,q){var S=w.exec(O.slice(q));return S?(E.m=b.get(S[0].toLowerCase()),q+S[0].length):-1}function F(E,O,q){var S=m.exec(O.slice(q));return S?(E.m=g.get(S[0].toLowerCase()),q+S[0].length):-1}function L(E,O,q){return A(E,n,O,q)}function T(E,O,q){return A(E,e,O,q)}function I(E,O,q){return A(E,r,O,q)}function H(E){return a[E.getDay()]}function W(E){return o[E.getDay()]}function N(E){return c[E.getMonth()]}function U(E){return f[E.getMonth()]}function z(E){return i[+(E.getHours()>=12)]}function R(E){return 1+~~(E.getMonth()/3)}function B(E){return a[E.getUTCDay()]}function et(E){return o[E.getUTCDay()]}function J(E){return c[E.getUTCMonth()]}function tt(E){return f[E.getUTCMonth()]}function P(E){return i[+(E.getUTCHours()>=12)]}function V(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var O=x(E+="",_);return O.toString=function(){return E},O},parse:function(E){var O=$(E+="",!1);return O.toString=function(){return E},O},utcFormat:function(E){var O=x(E+="",y);return O.toString=function(){return E},O},utcParse:function(E){var O=$(E+="",!0);return O.toString=function(){return E},O}}}var ys={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,g6=/^%/,b6=/[\\^$*+?|[\]().{}]/g;function rt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function y6(t){return t.replace(b6,"\\$&")}function or(t){return new RegExp("^(?:"+t.map(y6).join("|")+")","i")}function ar(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function w6(t,n,e){var r=_t.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function _6(t,n,e){var r=_t.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function v6(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function x6(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function M6(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function ws(t,n,e){var r=_t.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function _s(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function $6(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function T6(t,n,e){var r=_t.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function S6(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function vs(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function A6(t,n,e){var r=_t.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function xs(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function C6(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function E6(t,n,e){var r=_t.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function k6(t,n,e){var r=_t.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function N6(t,n,e){var r=_t.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function D6(t,n,e){var r=g6.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function L6(t,n,e){var r=_t.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function I6(t,n,e){var r=_t.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Ms(t,n){return rt(t.getDate(),n,2)}function F6(t,n){return rt(t.getHours(),n,2)}function R6(t,n){return rt(t.getHours()%12||12,n,2)}function P6(t,n){return rt(1+we.count(Jt(t),t),n,3)}function Sd(t,n){return rt(t.getMilliseconds(),n,3)}function O6(t,n){return Sd(t,n)+"000"}function U6(t,n){return rt(t.getMonth()+1,n,2)}function z6(t,n){return rt(t.getMinutes(),n,2)}function q6(t,n){return rt(t.getSeconds(),n,2)}function B6(t){var n=t.getDay();return n===0?7:n}function Y6(t,n){return rt(Ye.count(Jt(t)-1,t),n,2)}function Ad(t){var n=t.getDay();return n>=4||n===0?me(t):me.ceil(t)}function W6(t,n){return t=Ad(t),rt(me.count(Jt(t),t)+(Jt(t).getDay()===4),n,2)}function H6(t){return t.getDay()}function V6(t,n){return rt(Ir.count(Jt(t)-1,t),n,2)}function X6(t,n){return rt(t.getFullYear()%100,n,2)}function G6(t,n){return t=Ad(t),rt(t.getFullYear()%100,n,2)}function j6(t,n){return rt(t.getFullYear()%1e4,n,4)}function Z6(t,n){var e=t.getDay();return t=e>=4||e===0?me(t):me.ceil(t),rt(t.getFullYear()%1e4,n,4)}function K6(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+rt(n/60|0,"0",2)+rt(n%60,"0",2)}function $s(t,n){return rt(t.getUTCDate(),n,2)}function Q6(t,n){return rt(t.getUTCHours(),n,2)}function J6(t,n){return rt(t.getUTCHours()%12||12,n,2)}function t_(t,n){return rt(1+Xo.count(tn(t),t),n,3)}function Cd(t,n){return rt(t.getUTCMilliseconds(),n,3)}function n_(t,n){return Cd(t,n)+"000"}function e_(t,n){return rt(t.getUTCMonth()+1,n,2)}function r_(t,n){return rt(t.getUTCMinutes(),n,2)}function i_(t,n){return rt(t.getUTCSeconds(),n,2)}function o_(t){var n=t.getUTCDay();return n===0?7:n}function a_(t,n){return rt(We.count(tn(t)-1,t),n,2)}function Ed(t){var n=t.getUTCDay();return n>=4||n===0?ge(t):ge.ceil(t)}function f_(t,n){return t=Ed(t),rt(ge.count(tn(t),t)+(tn(t).getUTCDay()===4),n,2)}function c_(t){return t.getUTCDay()}function u_(t,n){return rt(Fr.count(tn(t)-1,t),n,2)}function s_(t,n){return rt(t.getUTCFullYear()%100,n,2)}function l_(t,n){return t=Ed(t),rt(t.getUTCFullYear()%100,n,2)}function h_(t,n){return rt(t.getUTCFullYear()%1e4,n,4)}function d_(t,n){var e=t.getUTCDay();return t=e>=4||e===0?ge(t):ge.ceil(t),rt(t.getUTCFullYear()%1e4,n,4)}function p_(){return"+0000"}function Ts(){return"%"}function Ss(t){return+t}function As(t){return Math.floor(+t/1e3)}var Te,Cc,oi;m_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m_(t){return Te=m6(t),Cc=Te.format,Te.parse,oi=Te.utcFormat,Te.utcParse,Te}function g_(t){return new Date(t)}function b_(t){return t instanceof Date?+t:+new Date(+t)}function Ec(t,n,e,r,i,o,a,f,c,u){var s=od(),l=s.invert,h=s.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),w=u("%a %d"),b=u("%b %d"),_=u("%B"),y=u("%Y");function v(x){return(c(x)<x?d:f(x)<x?p:a(x)<x?m:o(x)<x?g:r(x)<x?i(x)<x?w:b:e(x)<x?_:y)(x)}return s.invert=function(x){return new Date(l(x))},s.domain=function(x){return arguments.length?h(Array.from(x,b_)):h().map(g_)},s.ticks=function(x){var $=h();return t($[0],$[$.length-1],x??10)},s.tickFormat=function(x,$){return $==null?v:u($)},s.nice=function(x){var $=h();return(!x||typeof x.range!="function")&&(x=n($[0],$[$.length-1],x??10)),x?h(fd($,x)):s},s.copy=function(){return Kr(s,Ec(t,n,e,r,i,o,a,f,c,u))},s}function y_(){return yn.apply(Ec(d6,p6,Jt,ri,Ye,we,ni,Jr,Kt,Cc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w_(){return yn.apply(Ec(h6,Td,tn,ii,We,Xo,ei,ti,Kt,oi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jo(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zo(){var t=0,n=.5,e=1,r=1,i,o,a,f,c,u=Ht,s,l=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+s(m))-o)*(r*m<r*o?f:c),u(l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,n,e]=m,i=s(t=+t),o=s(n=+n),a=s(e=+e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(u=m,d):u};function p(m){return function(g){var w,b,_;return arguments.length?([w,b,_]=g,u=Oo(m,[w,b,_]),d):[u(0),u(.5),u(1)]}}return d.range=p(jr),d.rangeRound=p(pc),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return s=m,i=m(t),o=m(n),a=m(e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function kd(){var t=Qr(Zo()(Ht));return t.copy=function(){return jo(t,kd())},Wo.apply(t,arguments)}function Nd(){var t=cd(Zo()).domain([.1,1,10]);return t.copy=function(){return jo(t,Nd()).base(t.base())},Wo.apply(t,arguments)}function Dd(){var t=sd(Zo());return t.copy=function(){return jo(t,Dd()).constant(t.constant())},Wo.apply(t,arguments)}function Ld(){var t=hd(Zo());return t.copy=function(){return jo(t,Ld()).exponent(t.exponent())},Wo.apply(t,arguments)}function j(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const __=j("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),v_=j("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),x_=j("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),M_=j("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),$_=j("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),T_=j("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),S_=j("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),A_=j("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),C_=j("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),E_=j("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ft=t=>lb(t[t.length-1]);var Id=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(j);const Fd=ft(Id);var Rd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(j);const Pd=ft(Rd);var Od=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(j);const Ud=ft(Od);var zd=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(j);const qd=ft(zd);var Bf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(j);const bo=ft(Bf);var Bd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(j);const Yd=ft(Bd);var Yf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(j);const yo=ft(Yf);var Wd=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(j);const Hd=ft(Wd);var Vd=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(j);const Xd=ft(Vd);var Gd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(j);const jd=ft(Gd);var Zd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(j);const Kd=ft(Zd);var Qd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(j);const Jd=ft(Qd);var t0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(j);const n0=ft(t0);var e0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(j);const r0=ft(e0);var i0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(j);const o0=ft(i0);var a0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(j);const f0=ft(a0);var c0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(j);const u0=ft(c0);var s0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(j);const l0=ft(s0);var h0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(j);const d0=ft(h0);var p0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(j);const m0=ft(p0);var g0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(j);const b0=ft(g0);var y0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(j);const w0=ft(y0);var _0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(j);const v0=ft(_0);var x0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(j);const M0=ft(x0);var $0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(j);const T0=ft($0);var S0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(j);const A0=ft(S0);var C0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(j);const E0=ft(C0);function k0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const N0=mc(pn(300,.5,0),pn(-240,.5,1));var D0=mc(pn(-100,.75,.35),pn(80,1.5,.8)),L0=mc(pn(260,.75,.35),pn(80,1.5,.8)),Ei=pn();function I0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Ei.h=360*t-100,Ei.s=1.5-1.5*n,Ei.l=.8-.9*n,Ei+""}var ki=Yn(),k_=Math.PI/3,N_=Math.PI*2/3;function F0(t){var n;return t=(.5-t)*Math.PI,ki.r=255*(n=Math.sin(t))*n,ki.g=255*(n=Math.sin(t+k_))*n,ki.b=255*(n=Math.sin(t+N_))*n,ki+""}function R0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ko(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const P0=Ko(j("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var O0=Ko(j("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),U0=Ko(j("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),z0=Ko(j("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function bt(t){return function(){return t}}const q0=Math.cos,kc=Math.min,wo=Math.sin,mt=Math.sqrt,Cs=1e-12,_o=Math.PI,Qo=2*_o;function B0(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new vh(n)}function Y0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function W0(t){this._context=t}W0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function ai(t){return new W0(t)}function H0(t){return t[0]}function V0(t){return t[1]}function X0(t,n){var e=bt(!0),r=null,i=ai,o=null,a=B0(f);t=typeof t=="function"?t:t===void 0?H0:bt(t),n=typeof n=="function"?n:n===void 0?V0:bt(n);function f(c){var u,s=(c=Y0(c)).length,l,h=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=s;++u)!(u<s&&e(l=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,u,c),+n(l,u,c));if(d)return o=null,d+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),f):t},f.y=function(c){return arguments.length?(n=typeof c=="function"?c:bt(+c),f):n},f.defined=function(c){return arguments.length?(e=typeof c=="function"?c:bt(!!c),f):e},f.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),f):r},f}function D_(t,n,e){var r=null,i=bt(!0),o=null,a=ai,f=null,c=B0(u);t=typeof t=="function"?t:t===void 0?H0:bt(+t),n=typeof n=="function"?n:bt(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?V0:bt(+e);function u(l){var h,d,p,m=(l=Y0(l)).length,g,w=!1,b,_=new Array(m),y=new Array(m);for(o==null&&(f=a(b=c())),h=0;h<=m;++h){if(!(h<m&&i(g=l[h],h,l))===w)if(w=!w)d=h,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=h-1;p>=d;--p)f.point(_[p],y[p]);f.lineEnd(),f.areaEnd()}w&&(_[h]=+t(g,h,l),y[h]=+n(g,h,l),f.point(r?+r(g,h,l):_[h],e?+e(g,h,l):y[h]))}if(b)return f=null,b+""||null}function s(){return X0().defined(i).curve(a).context(o)}return u.x=function(l){return arguments.length?(t=typeof l=="function"?l:bt(+l),r=null,u):t},u.x0=function(l){return arguments.length?(t=typeof l=="function"?l:bt(+l),u):t},u.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:bt(+l),u):r},u.y=function(l){return arguments.length?(n=typeof l=="function"?l:bt(+l),e=null,u):n},u.y0=function(l){return arguments.length?(n=typeof l=="function"?l:bt(+l),u):n},u.y1=function(l){return arguments.length?(e=l==null?null:typeof l=="function"?l:bt(+l),u):e},u.lineX0=u.lineY0=function(){return s().x(t).y(n)},u.lineY1=function(){return s().x(t).y(e)},u.lineX1=function(){return s().x(r).y(n)},u.defined=function(l){return arguments.length?(i=typeof l=="function"?l:bt(!!l),u):i},u.curve=function(l){return arguments.length?(a=l,o!=null&&(f=a(o)),u):a},u.context=function(l){return arguments.length?(l==null?o=f=null:f=a(o=l),u):o},u}class G0{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function L_(t){return new G0(t,!0)}function I_(t){return new G0(t,!1)}const F_=mt(3),j0={draw(t,n){const e=mt(n+kc(n/28,.75))*.59436,r=e/2,i=r*F_;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Nc={draw(t,n){const e=mt(n/_o);t.moveTo(e,0),t.arc(0,0,e,0,Qo)}},Z0={draw(t,n){const e=mt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},K0=mt(1/3),R_=K0*2,Q0={draw(t,n){const e=mt(n/R_),r=e*K0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},J0={draw(t,n){const e=mt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},tp={draw(t,n){const e=mt(n-kc(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},np={draw(t,n){const e=mt(n),r=-e/2;t.rect(r,r,e,e)}},ep={draw(t,n){const e=mt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},P_=.8908130915292852,rp=wo(_o/10)/wo(7*_o/10),O_=wo(Qo/10)*rp,U_=-q0(Qo/10)*rp,ip={draw(t,n){const e=mt(n*P_),r=O_*e,i=U_*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Qo*o/5,f=q0(a),c=wo(a);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},Oa=mt(3),op={draw(t,n){const e=-mt(n/(Oa*3));t.moveTo(0,e*2),t.lineTo(-Oa*e,-e),t.lineTo(Oa*e,-e),t.closePath()}},z_=mt(3),ap={draw(t,n){const e=mt(n)*.6824,r=e/2,i=e*z_/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},zt=-.5,qt=mt(3)/2,Wf=1/mt(12),q_=(Wf/2+1)*3,fp={draw(t,n){const e=mt(n/q_),r=e/2,i=e*Wf,o=r,a=e*Wf+e,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(zt*r-qt*i,qt*r+zt*i),t.lineTo(zt*o-qt*a,qt*o+zt*a),t.lineTo(zt*f-qt*c,qt*f+zt*c),t.lineTo(zt*r+qt*i,zt*i-qt*r),t.lineTo(zt*o+qt*a,zt*a-qt*o),t.lineTo(zt*f+qt*c,zt*c-qt*f),t.closePath()}},cp={draw(t,n){const e=mt(n-kc(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},B_=[Nc,Z0,Q0,np,ip,op,fp],Y_=[Nc,tp,cp,ap,j0,ep,J0];function Wn(){}function vo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Jo(t){this._context=t}Jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function W_(t){return new Jo(t)}function up(t){this._context=t}up.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:vo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function H_(t){return new up(t)}function sp(t){this._context=t}sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:vo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function V_(t){return new sp(t)}function lp(t,n){this._basis=new Jo(t),this._beta=n}lp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,f=-1,c;++f<=e;)c=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*o),this._beta*n[f]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const X_=function t(n){function e(r){return n===1?new Jo(r):new lp(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function xo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Dc(t,n){this._context=t,this._k=(1-n)/6}Dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:xo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const G_=function t(n){function e(r){return new Dc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Lc(t,n){this._context=t,this._k=(1-n)/6}Lc.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:xo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const j_=function t(n){function e(r){return new Lc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Ic(t,n){this._context=t,this._k=(1-n)/6}Ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Z_=function t(n){function e(r){return new Ic(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Fc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Cs){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Cs){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*u+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function hp(t,n){this._context=t,this._alpha=n}hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Fc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const K_=function t(n){function e(r){return n?new hp(r,n):new Dc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function dp(t,n){this._context=t,this._alpha=n}dp.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Fc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Q_=function t(n){function e(r){return n?new dp(r,n):new Lc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function pp(t,n){this._context=t,this._alpha=n}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const J_=function t(n){function e(r){return n?new pp(r,n):new Ic(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function mp(t){this._context=t}mp.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function t3(t){return new mp(t)}function Es(t){return t<0?-1:1}function ks(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(Es(o)+Es(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function Ns(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Ua(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*n,o-f,a-f*e,o,a)}function Mo(t){this._context=t}Mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ua(this,this._t0,Ns(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Ua(this,Ns(this,e=ks(this,t,n)),e);break;default:Ua(this,this._t0,e=ks(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function gp(t){this._context=new bp(t)}(gp.prototype=Object.create(Mo.prototype)).point=function(t,n){Mo.prototype.point.call(this,n,t)};function bp(t){this._context=t}bp.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function n3(t){return new Mo(t)}function e3(t){return new gp(t)}function yp(t){this._context=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=Ds(t),i=Ds(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Ds(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function r3(t){return new yp(t)}function ta(t,n){this._context=t,this._t=n}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function i3(t){return new ta(t,.5)}function o3(t){return new ta(t,0)}function a3(t){return new ta(t,1)}function gr(t,n,e){this.k=t,this.x=n,this.y=e}gr.prototype={constructor:gr,scale:function(t){return t===1?this:new gr(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new gr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};gr.prototype;function mn(t){return t!=null&&!Number.isNaN(t)}function nn(t,n){return+mn(n)-+mn(t)||vt(t,n)}function $o(t,n){return+mn(n)-+mn(t)||Hr(t,n)}function Rc(t){return t!=null&&`${t}`!=""}function wp(t){return isFinite(t)?t:NaN}function Pc(t){return t>0&&isFinite(t)?t:NaN}function _p(t){return t<0&&isFinite(t)?t:NaN}function f3(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${c3(t.getUTCFullYear())}-${Tn(t.getUTCMonth()+1,2)}-${Tn(t.getUTCDate(),2)}${e||r||i||o?`T${Tn(e,2)}:${Tn(r,2)}${i||o?`:${Tn(i,2)}${o?`.${Tn(o,3)}`:""}`:""}Z`:""}`}function c3(t){return t<0?`-${Tn(-t,6)}`:t>9999?`+${Tn(t,6)}`:Tn(t,4)}function Tn(t,n){return`${t}`.padStart(n,"0")}const u3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function vp(t,n){return u3.test(t+="")?new Date(t):typeof n=="function"?n(t):n}const Ee=1e3,zn=Ee*60,qn=zn*60,gn=qn*24,fn=gn*7,fe=gn*30,Un=gn*365,za=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Ee],["5 seconds",5*Ee],["15 seconds",15*Ee],["30 seconds",30*Ee],["minute",zn],["5 minutes",5*zn],["15 minutes",15*zn],["30 minutes",30*zn],["hour",qn],["3 hours",3*qn],["6 hours",6*qn],["12 hours",12*qn],["day",gn],["2 days",2*gn],["week",fn],["2 weeks",2*fn],["month",fe],["3 months",3*fe],["6 months",6*fe],["year",Un],["2 years",2*Un],["5 years",5*Un],["10 years",10*Un],["20 years",20*Un],["50 years",50*Un],["100 years",100*Un]],Oc=new Map([["second",Ee],["minute",zn],["hour",qn],["day",gn],["monday",fn],["tuesday",fn],["wednesday",fn],["thursday",fn],["friday",fn],["saturday",fn],["sunday",fn],["week",fn],["month",fe],["year",Un]]),xp=new Map([["second",Kt],["minute",Jr],["hour",ni],["day",we],["monday",Ir],["tuesday",gd],["wednesday",bd],["thursday",me],["friday",yd],["saturday",wd],["sunday",Ye],["week",Ye],["month",ri],["year",Jt]]),Uc=new Map([["second",Kt],["minute",ti],["hour",ei],["day",Go],["monday",Fr],["tuesday",_d],["wednesday",vd],["thursday",ge],["friday",xd],["saturday",Md],["sunday",We],["week",We],["month",ii],["year",tn]]),fi=Symbol("intervalDuration"),na=Symbol("intervalType");for(const[t,n]of xp)n[fi]=Oc.get(t),n[na]="time";for(const[t,n]of Uc)n[fi]=Oc.get(t),n[na]="utc";const br=[["year",tn,"utc"],["month",ii,"utc"],["day",Go,"utc",6*fe],["hour",ei,"utc",3*gn],["minute",ti,"utc",6*qn],["second",Kt,"utc",30*zn]],Bi=[["year",Jt,"time"],["month",ri,"time"],["day",we,"time",6*fe],["hour",ni,"time",3*gn],["minute",Jr,"time",6*qn],["second",Kt,"time",30*zn]],s3=[br[0],Bi[0],br[1],Bi[1],br[2],Bi[2],...br.slice(3)];function Mp(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=Uc.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function $p(t){return Tp(Mp(t),"time")}function zc(t){return Tp(Mp(t),"utc")}function Tp([t,n],e){let r=(e==="time"?xp:Uc).get(t);return n>1&&(r=r.every(n),r[fi]=Oc.get(t)*n,r[na]=e),r}function Ls(t,n){if(!(n>1))return;const e=t[fi];if(!za.some(([,i])=>i===e)||e%gn===0&&gn<e&&e<fe)return;const[r]=za[ko(([,i])=>Math.log(i)).center(za,Math.log(e*n))];return(t[na]==="time"?$p:zc)(r)}function Is(t,n,e){const r=n==="time"?Cc:oi;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=l3(e);switch(t){case"millisecond":return Se(r(".%L"),r(":%M:%S"),i);case"second":return Se(r(":%S"),r("%-I:%M"),i);case"minute":return Se(r("%-I:%M"),r("%p"),i);case"hour":return Se(r("%-I %p"),r("%b %-d"),i);case"day":return Se(r("%-d"),r("%b"),i);case"month":return Se(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function l3(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function h3(t){return t==="time"?Bi:t==="utc"?br:s3}function d3(t,n,e){const r=Xt(tg(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return Is("millisecond","utc",e);for(const[i,o,a,f]of h3(t)){if(r>f||i==="hour"&&!r)break;if(n.every(c=>o.floor(c)>=c))return Is(i,a,e)}}function Se(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),c=i-Ve(o);return i!==c&&o[c]!==void 0&&f===n(o[c],c)?a:e(a,f)}}const Rr=Object.getPrototypeOf(Uint8Array),p3=Object.prototype.toString,Sp=Symbol("reindex");function ht(t,n,e){const r=typeof n;return r==="string"?Fs(t,Ap(n),e):r==="function"?Fs(t,n,e):r==="number"||n instanceof Date||r==="boolean"?dt(t,ci(n),e):typeof n?.transform=="function"?Rs(n.transform(t),e):m3(Rs(n,e),t?.[Sp])}function m3(t,n){return n?ra(t,n):t}function Fs(t,n,e){return dt(t,e?.prototype instanceof Rr?g3(n):n,e)}function Rs(t,n){return n===void 0?Ut(t):t instanceof n?t:n.prototype instanceof Rr&&!(t instanceof Rr)?n.from(t,Yc):n.from(t)}function g3(t){return(n,e)=>Yc(t(n,e))}const Yi=[null],Ap=t=>n=>n[t],qc={transform:Rn},Et={transform:t=>t},b3=()=>1,y3=()=>!0,Ct=t=>t==null?t:`${t}`,yt=t=>t==null?t:+t,Bc=t=>t?t[0]:void 0,Hf=t=>t?t[1]:void 0,ci=t=>()=>t;function Cp(t){const n=+`${t}`.slice(1)/100;return(e,r)=>Fe(e,n,r)}function He(t){return t instanceof Rr?t:dt(t,Yc,Float64Array)}function Yc(t){return t==null?NaN:Number(t)}function w3(t){return dt(t,Ep)}function Ep(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?vp(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function In(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:ia(t)?[void 0,t]:[t,void 0]}function Ft(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function kp(t,n,e){if(t!=null)return rn(t,n,e)}function rn(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Ut(t){return t==null||t instanceof Array||t instanceof Rr?t:Array.from(t)}function dt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function Pr(t,n=Array){return t instanceof n?t.slice():n.from(t)}function _3({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function Fn(t){return t?.toString===p3}function Vf(t){return Fn(t)&&(t.type!==void 0||t.domain!==void 0)}function Wc(t){return Fn(t)&&typeof t.transform!="function"}function Or(t){return Wc(t)&&t.value===void 0&&t.channel===void 0}function v3(t,n,e,r=Et){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function Np(t,n){return t===void 0&&n===void 0?[Bc,Hf]:[t,n]}function ea({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=In(n)),t===void 0&&([t]=In(e)),t}function Rn(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function ra(t,n){return dt(n,e=>t[e],t.constructor)}function Dp(t){return t.length===1?(n,e)=>t(ra(e,n)):t}function x3(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function ie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lp(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function Ur(t){let n;return[{transform:()=>n,label:xe(t)},e=>n=e]}function Mn(t){return t==null?[t]:Ur(t)}function xe(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function Xf(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Lt(r)||Lt(i)?dt(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):dt(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Ip(t,n){const e=Fp(n?.interval,n?.type);return e?dt(t,e):t}function Fp(t,n){const e=Hc(t,n);return e&&(r=>mn(r)?e.floor(r):r)}function Hc(t,n){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:r=>Math.floor(r*e)/e,offset:r=>(r*e+1)/e,range:(r,i)=>uf(Math.ceil(r*e),i*e).map(o=>o/e)}:{floor:r=>Math.floor(r/e)*e,offset:r=>r+e,range:(r,i)=>uf(Math.ceil(r/e),i/e).map(o=>o*e)}}if(typeof t=="string")return(n==="time"?$p:zc)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Ze(t,n){if(t=Hc(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function M3(t,n){if(t=Ze(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function $3(t){return ke(t)&&typeof t?.floor=="function"&&t.floor()instanceof Date}function ke(t){return typeof t?.range=="function"}function ui(t){return t===void 0||Wc(t)?t:{value:t}}function T3(t){return t==null?null:{transform:n=>ht(n,t,Float64Array),label:xe(t)}}function Xn(t){return t&&typeof t[Symbol.iterator]=="function"}function Rp(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Ps(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function Lt(t){for(const n of t)if(n!=null)return n instanceof Date}function S3(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&vp(n)}function A3(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function C3(t){for(const n of t)if(n!=null)return typeof n=="number"}function qa(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const E3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function ia(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||E3.has(t))}function k3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Nt(t){return t==null||zr(t)}function zr(t){return/^\s*none\s*$/i.test(t)}function N3(t){return/^\s*round\s*$/i.test(t)}function Gf(t,n){return kp(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Vc(t="middle"){return Gf(t,"frameAnchor")}function Ve(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Hr(n,e)}function D3(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function L3(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function Pp(t){return Xn(t)?L3(t):t}const sn=Symbol("position"),Pn=Symbol("color"),si=Symbol("radius"),li=Symbol("length"),hi=Symbol("opacity"),oa=Symbol("symbol"),Op=Symbol("projection"),lt=new Map([["x",sn],["y",sn],["fx",sn],["fy",sn],["r",si],["color",Pn],["opacity",hi],["symbol",oa],["length",li],["projection",Op]]);function I3(t){return t===sn||t===Op}function F3(t){return t===sn||t===si||t===li||t===hi}const R3=Math.sqrt(3),P3=2/R3,O3={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*P3,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Up=new Map([["asterisk",j0],["circle",Nc],["cross",Z0],["diamond",Q0],["diamond2",J0],["hexagon",O3],["plus",tp],["square",np],["square2",ep],["star",ip],["times",cp],["triangle",op],["triangle2",ap],["wye",fp]]);function zp(t){return t&&typeof t.draw=="function"}function U3(t){return zp(t)?!0:typeof t!="string"?!1:Up.has(t.toLowerCase())}function Xc(t){if(t==null||zp(t))return t;const n=Up.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function aa({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=qp(t)),n!=null&&!Or(n)&&(r=Ba(r,Yp(n))),e&&(r=Ba(r,Bp))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||Or(n))&&{sort:n},transform:Ba(r,a)}}function qr({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=qp(t)),n!=null&&!Or(n)&&(r=Ya(r,Yp(n))),e&&(r=Ya(r,Bp))),{...i,...(n===null||Or(n))&&{sort:n},initializer:Ya(r,o)}}function Ba(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Ut(e),r,i)}}function Ya(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,c,u,s,l;return{data:f=e,facets:c=r,channels:a}=t.call(this,e,r,i,...o),{data:s=f,facets:l=c,channels:u}=n.call(this,f,c,{...i,...a},...o),{data:s,facets:l,channels:{...a,...u}}}}function qp(t){return(n,e)=>{const r=ht(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function Bp(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function Yp(t){return(typeof t=="function"&&t.length!==1?z3:q3)(t)}function z3(t){return(n,e)=>{const r=(i,o)=>t(n[i],n[o]);return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function q3(t){let n,e;({channel:n,value:t,order:e}={...ui(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?$o:nn),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=nn;break;case"descending":e=$o;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=ht(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const c=(u,s)=>e(f[u],f[s]);return{data:i,facets:o.map(u=>u.slice().sort(c))}}}function Ni(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function B3(t,n,e=Wp){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",j3]),n.href!=null&&t.href===void 0&&r.push(["href",jc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?Y3(i):e(i,o,n))}function Wp(t,n,e,r=Hp){let i;Fn(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,f]=Ur(o.label);let c;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(u){o.initialize(u),c=f([])},scope(u,s){o.scope(u,s)},reduce(u,s){c.push(o.reduce(u,s))}}}function Y3(t){return{name:t,initialize(){},scope(){},reduce(){}}}function Hp(t,n,e,r=Gc){const i=Lp(t,e),o=r(n,i);let a,f;return{label:xe(o===To?null:i,o.label),initialize(c){a=i===void 0?c:ht(c,i),o.scope==="data"&&(f=o.reduceIndex(Rn(c),a))},scope(c,u){o.scope===c&&(f=o.reduceIndex(u,a))},reduce(c,u){return o.scope==null?o.reduceIndex(c,a,u):o.reduceIndex(c,a,f,u)}}}function Os(t,n){return n?Tr(Vr(t,e=>n[e]),Bc):[[,t]]}function Gc(t,n,e=W3){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Fn(t))return X3(t);if(typeof t=="function")return G3(t);if(/^p\d{2}$/i.test(t))return $n(Cp(t));switch(`${t}`.toLowerCase()){case"first":return jc;case"last":return Z3;case"identity":return Vp;case"count":return To;case"distinct":return K3;case"sum":return n==null?To:Q3;case"proportion":return zs(n,"data");case"proportion-facet":return zs(n,"facet");case"deviation":return $n(rc);case"min":return $n(dn);case"min-index":return $n(jm);case"max":return $n(Xt);case"max-index":return $n(Gm);case"mean":return Us(fc);case"median":return Us(Gi);case"variance":return $n(kl);case"mode":return $n(Jm)}return e(t)}function W3(t){throw new Error(`invalid reduce: ${t}`)}function H3(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function V3(t,n,e){if(n){const r=n.output.transform(),i=(o,a)=>nn(r[o],r[a]);t.forEach(o=>o.sort(i))}e&&t.forEach(r=>r.reverse())}function X3(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function G3(t){return{reduceIndex(n,e,r){return t(ra(e,n),r)}}}function $n(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Us(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return Lt(e)?new Date(r):r}}}const Vp={reduceIndex(t,n){return ra(n,t)}},jc={reduceIndex(t,n){return n[t[0]]}},j3={reduceIndex(t,n){const r=Tr(Ne(t,o=>o.length,o=>n[o]),Hf),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[`… ${o.length.toLocaleString("en-US")} more`,kn(o,Hf)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},Z3={reduceIndex(t,n){return n[t[t.length-1]]}},To={label:"Frequency",reduceIndex(t){return t.length}},K3={label:"Distinct",reduceIndex(t,n){const e=new Lo;for(const r of t)e.add(n[r]);return e.size}},Q3=$n(kn);function zs(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>kn(e,o=>r[o])/i}}function Br(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=xe(r)},f){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),Xp(f,{scale:n,type:e,value:ht(t,r),label:a,filter:i,hint:o})}function J3(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Br(n,r,e)]))}function t5(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:dt(o,a)]}));return e.channels=t,e}function Xp(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&qa(r,ia)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&qa(r,k3)?null:"opacity";break;case"symbol":e!==!0&&qa(r,U3)?(n.scale=null,n.value=dt(r,Xc)):n.scale="symbol";break;default:n.scale=lt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!lt.has(e))throw new Error(`unknown scale: ${e}`);return n}function n5(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const u in i){if(!lt.has(u))continue;let{value:s,order:l=o,reverse:h=a,reduce:d=f,limit:p=c}=ui(i[u]);const m=s?.startsWith("-");if(m&&(s=s.slice(1)),l=l===void 0?m!==(s==="width"||s==="height")?jp:Gp:i5(l),d==null||d===!1)continue;const g=u==="fx"||u==="fy"?r5(n,r[u]):e5(e,u);if(!g)throw new Error(`missing channel for scale: ${u}`);const w=g.value,[b=0,_=1/0]=Xn(p)?p:p<0?[p]:[0,p];if(s==null)g.domain=()=>{let y=Array.from(new Lo(w));return h&&(y=y.reverse()),(b!==0||_!==1/0)&&(y=y.slice(b,_)),y};else{const y=s==="data"?t:s==="height"?qs(e,"y1","y2"):s==="width"?qs(e,"x1","x2"):jf(e,s,s==="y"?"y2":s==="x"?"x2":void 0),v=Gc(d===!0?"max":d,y);g.domain=()=>{let x=Bm(Rn(w),$=>v.reduceIndex($,y),$=>w[$]);return l&&x.sort(l),h&&x.reverse(),(b!==0||_!==1/0)&&(x=x.slice(b,_)),x.map(Bc)}}}}function e5(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function r5(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function qs(t,n,e){const r=jf(t,n),i=jf(t,e);return dt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function jf(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function i5(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Gp;case"descending":return jp}throw new Error(`invalid order: ${t}`)}function Gp([t,n],[e,r]){return nn(n,r)||nn(t,e)}function jp([t,n],[e,r]){return $o(n,r)||nn(t,e)}function Zf(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}function o5(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,o)=>i!==r[o]))&&(e=r,n=t(...r)),n)}const a5=o5(t=>new Intl.NumberFormat(t));function f5(t="en-US"){const n=a5(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function c5(t){return f3(t,"Invalid Date")}function u5(t="en-US"){const n=f5(t);return e=>(e instanceof Date?c5:typeof e=="number"?n:Ct)(e)}const be=u5();let Kf=0,Qf;function s5(){const t=Kf;return Kf=0,Qf=void 0,t}function Bn(t){t!==Qf&&(Qf=t,console.warn(t),++Kf)}const Rt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let l5=0;function Bs(){return`plot-clip-${++l5}`}function h5(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:u,strokeWidth:s,strokeOpacity:l,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:w,mixBlendMode:b,imageFilter:_,paintOrder:y,pointerEvents:v,shapeRendering:x,channels:$},{ariaLabel:A,fill:C="currentColor",fillOpacity:k,stroke:M="none",strokeOpacity:D,strokeWidth:F,strokeLinecap:L,strokeLinejoin:T,strokeMiterlimit:I,paintOrder:H}){C===null&&(f=null,c=null),M===null&&(u=null,l=null),Nt(C)?!Nt(M)&&(!Nt(f)||$?.fill)&&(M="none"):Nt(M)&&(!Nt(u)||$?.stroke)&&(C="none");const[W,N]=In(f,C),[U,z]=Ft(c,k),[R,B]=In(u,M),[et,J]=Ft(l,D),[tt,P]=Ft(w);zr(B)||(s===void 0&&(s=F),d===void 0&&(d=L),h===void 0&&(h=T),p===void 0&&!N3(h)&&(p=I),!zr(N)&&y===void 0&&(y=H));const[V,E]=Ft(s);return C!==null&&(t.fill=St(N,"currentColor"),t.fillOpacity=fr(z,1)),M!==null&&(t.stroke=St(B,"none"),t.strokeWidth=fr(E,1),t.strokeOpacity=fr(J,1),t.strokeLinejoin=St(h,"miter"),t.strokeLinecap=St(d,"butt"),t.strokeMiterlimit=fr(p,4),t.strokeDasharray=St(m,"none"),t.strokeDashoffset=St(g,"0")),t.target=Ct(a),t.ariaLabel=Ct(A),t.ariaDescription=Ct(i),t.ariaHidden=Ct(o),t.opacity=fr(P,1),t.mixBlendMode=St(b,"normal"),t.imageFilter=St(_,"none"),t.paintOrder=St(y,"normal"),t.pointerEvents=St(v,"auto"),t.shapeRendering=St(x,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:W,scale:"auto",optional:!0},fillOpacity:{value:U,scale:"auto",optional:!0},stroke:{value:R,scale:"auto",optional:!0},strokeOpacity:{value:et,scale:"auto",optional:!0},strokeWidth:{value:V,optional:!0},opacity:{value:tt,scale:"auto",optional:!0}}}function d5(t,n){n&&t.filter(e=>Rc(n[e])).append("title").call(m5,n)}function p5(t,n){n&&t.filter(([e])=>Rc(n[e])).append("title").call(g5,n)}function m5(t,n){n&&t.text(e=>be(n[e]))}function g5(t,n){n&&t.text(([e])=>be(n[e]))}function di(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:u,opacity:s,href:l}){r&&Z(t,"aria-label",h=>r[h]),o&&Z(t,"fill",h=>o[h]),a&&Z(t,"fill-opacity",h=>a[h]),f&&Z(t,"stroke",h=>f[h]),c&&Z(t,"stroke-opacity",h=>c[h]),u&&Z(t,"stroke-width",h=>u[h]),s&&Z(t,"opacity",h=>s[h]),l&&Jp(t,h=>l[h],n),e||d5(t,i)}function Zp(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:u,opacity:s,href:l}){r&&Z(t,"aria-label",([h])=>r[h]),o&&Z(t,"fill",([h])=>o[h]),a&&Z(t,"fill-opacity",([h])=>a[h]),f&&Z(t,"stroke",([h])=>f[h]),c&&Z(t,"stroke-opacity",([h])=>c[h]),u&&Z(t,"stroke-width",([h])=>u[h]),s&&Z(t,"opacity",([h])=>s[h]),l&&Jp(t,([h])=>l[h],n),e||p5(t,i)}function b5({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:c},{tip:u}){return[t,u?void 0:n,e,r,i,o,a,f,c].filter(s=>s!==void 0)}function y5(t,n,e){const r=Vr(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&Bn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*Kp(t,n,e,r){const{z:i}=e,{z:o}=r,a=b5(r,e),f=[...n,...a];for(const c of o?y5(t,o,i):[t]){let u,s;t:for(const l of c){for(const h of f)if(!mn(h[l])){s&&s.push(-1);continue t}if(u===void 0){s&&(yield s),u=a.map(h=>ie(h[l])),s=[l];continue}s.push(l);for(let h=0;h<a.length;++h)if(ie(a[h][l])!==u[h]){yield s,u=a.map(p=>ie(p[l])),s=[l];continue t}}s&&(yield s)}}function Qp(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=rn(t,"clip",["frame","sphere"])),t}function w5(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":{const{width:a,height:f,marginLeft:c,marginRight:u,marginTop:s,marginBottom:l}=e,h=Bs();i=`url(#${h})`,t=Tt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",h).append("rect").attr("x",c).attr("y",s).attr("width",a-u-c).attr("height",f-s-l)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const f=Bs();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",vc(a)({type:"Sphere"}));break}}Z(t,"aria-label",n.ariaLabel),Z(t,"aria-description",n.ariaDescription),Z(t,"aria-hidden",n.ariaHidden),Z(t,"clip-path",i)}function Gn(t,n,e,r){w5(t,n,e,r),Z(t,"fill",n.fill),Z(t,"fill-opacity",n.fillOpacity),Z(t,"stroke",n.stroke),Z(t,"stroke-width",n.strokeWidth),Z(t,"stroke-opacity",n.strokeOpacity),Z(t,"stroke-linejoin",n.strokeLinejoin),Z(t,"stroke-linecap",n.strokeLinecap),Z(t,"stroke-miterlimit",n.strokeMiterlimit),Z(t,"stroke-dasharray",n.strokeDasharray),Z(t,"stroke-dashoffset",n.strokeDashoffset),Z(t,"shape-rendering",n.shapeRendering),Z(t,"filter",n.imageFilter),Z(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;Z(t,"pointer-events",i)}function jn(t,n){_5(t,"mix-blend-mode",n.mixBlendMode),Z(t,"opacity",n.opacity)}function Jp(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(Re.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Re.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Z(t,n,e){e!=null&&t.attr(n,e)}function _5(t,n,e){e!=null&&t.style(n,e)}function Zn(t,n,{x:e,y:r},i=Rt,o=Rt){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function St(t,n){if((t=Ct(t))!==n)return t}function fr(t,n){if((t=yt(t))!==n)return t}const v5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Zc(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!v5.test(t))throw new Error(`invalid class name: ${t}`);return t}function Kc(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function fa({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}function Qc(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:Qp(e)}}function Tt(t,{document:n}){return wr(Fo(t).call(n.documentElement))}const t1=Math.PI,_n=2*t1,Ys=.618;function x5({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,u="frame";if(Fn(t)){let v;if({type:t,domain:c,inset:v,insetTop:e=v!==void 0?v:e,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:u=u,...f}=t,t==null)return}typeof t!="function"&&({type:t}=n1(t));const{width:s,height:l,marginLeft:h,marginRight:d,marginTop:p,marginBottom:m}=a,g=s-h-d-o-r,w=l-p-m-e-i;if(t=t?.({width:g,height:w,clip:u,...f}),t==null)return;u=M5(u,h,p,s-d,l-m);let b=h+o,_=p+e,y;if(c!=null){const[[v,x],[$,A]]=vc(t).bounds(c),C=Math.min(g/($-v),w/(A-x));C>0?(b-=(C*(v+$)-g)/2,_-=(C*(x+A)-w)/2,y=Pf({point(k,M){this.stream.point(k*C+b,M*C+_)}})):Bn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=b===0&&_===0?e1():Pf({point(v,x){this.stream.point(v+b,x+_)}}),{stream:v=>t.stream(y.stream(u(v)))}}function n1(t){switch(`${t}`.toLowerCase()){case"albers-usa":return jt(Ow,.7463,.4673);case"albers":return Di(Gh,.7463,.4673);case"azimuthal-equal-area":return jt(Uw,4,4);case"azimuthal-equidistant":return jt(zw,_n,_n);case"conic-conformal":return Di(Yw,_n,_n);case"conic-equal-area":return Di(ho,6.1702,2.9781);case"conic-equidistant":return Di(Vw,7.312,3.6282);case"equal-earth":return jt(Gw,5.4133,2.6347);case"equirectangular":return jt(Ww,_n,t1);case"gnomonic":return jt(jw,3.4641,3.4641);case"identity":return{type:e1};case"reflect-y":return{type:$5};case"mercator":return jt(qw,_n,_n);case"orthographic":return jt(Zw,2,2);case"stereographic":return jt(Kw,2,2);case"transverse-mercator":return jt(Qw,_n,_n);default:throw new Error(`unknown projection type: ${t}`)}}function M5(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Dh(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function jt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{const c=t();return a!=null&&c.precision?.(a),o!=null&&c.rotate?.(o),typeof f=="number"&&c.clipAngle?.(f),c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2]),c},aspectRatio:e/n}}function Di(t,n,e){const{type:r,aspectRatio:i}=jt(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:c,height:u}=o,s=r(o);return a!=null&&(s.parallels(a),f===void 0&&s.fitSize([c,u],{type:"Sphere"})),s},aspectRatio:i}}const e1=ci({stream:t=>t}),$5=ci(Pf({point(t,n){this.stream.point(t,-n)}}));function T5(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let u;const s=r.stream({point(l,h){f[u]=l,c[u]=h}});for(u=0;u<a;++u)s.point(i[u],o[u])}function S5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Fn(t)&&(t=t.type),t!=null)}function A5(t){if(typeof t?.stream=="function")return Ys;if(Fn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:n}=n1(t);if(n)return n}return Ys}}function C5(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)ee(a,o);return[r,i]}const E5=["#4269d0","#efb118","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e","#9498a0"],r1=new Map([["accent",v_],["category10",__],["dark2",x_],["observable10",E5],["paired",M_],["pastel1",$_],["pastel2",T_],["set1",S_],["set2",A_],["set3",C_],["tableau10",E_]]);function k5(t){return t!=null&&r1.has(`${t}`.toLowerCase())}const Ws=new Map([...r1,["brbg",vn(Id,Fd)],["prgn",vn(Rd,Pd)],["piyg",vn(Od,Ud)],["puor",vn(zd,qd)],["rdbu",vn(Bf,bo)],["rdgy",vn(Bd,Yd)],["rdylbu",vn(Yf,yo)],["rdylgn",vn(Wd,Hd)],["spectral",vn(Vd,Xd)],["burd",Hs(Bf,bo)],["buylrd",Hs(Yf,yo)],["blues",gt(y0,w0)],["greens",gt(_0,v0)],["greys",gt(x0,M0)],["oranges",gt(C0,E0)],["purples",gt($0,T0)],["reds",gt(S0,A0)],["turbo",xn(R0)],["viridis",xn(P0)],["magma",xn(O0)],["inferno",xn(U0)],["plasma",xn(z0)],["cividis",xn(k0)],["cubehelix",xn(N0)],["warm",xn(D0)],["cool",xn(L0)],["bugn",gt(Gd,jd)],["bupu",gt(Zd,Kd)],["gnbu",gt(Qd,Jd)],["orrd",gt(t0,n0)],["pubu",gt(i0,o0)],["pubugn",gt(e0,r0)],["purd",gt(a0,f0)],["rdpu",gt(c0,u0)],["ylgn",gt(h0,d0)],["ylgnbu",gt(s0,l0)],["ylorbr",gt(p0,m0)],["ylorrd",gt(g0,b0)],["rainbow",Vs(I0)],["sinebow",Vs(F0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Qt(n,e):t[e])}function vn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Qt(n,e):t[e])}function Hs(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Qt(r=>n(1-r),e):t[e].slice().reverse())}function xn(t){return({length:n})=>Qt(t,Math.max(2,Math.floor(n)))}function Vs(t){return({length:n})=>Qt(t,Math.floor(n)+1).slice(0,-1)}function i1(t){const n=`${t}`.toLowerCase();if(!Ws.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Ws.get(n)}function ca(t,n){const e=i1(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function N5(t,n="greys"){const e=new Set,[r,i]=ca(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const Xs=new Map([["brbg",Fd],["prgn",Pd],["piyg",Ud],["puor",qd],["rdbu",bo],["rdgy",Yd],["rdylbu",yo],["rdylgn",Hd],["spectral",Xd],["burd",t=>bo(1-t)],["buylrd",t=>yo(1-t)],["blues",w0],["greens",v0],["greys",M0],["purples",T0],["reds",A0],["oranges",E0],["turbo",R0],["viridis",P0],["magma",O0],["inferno",U0],["plasma",z0],["cividis",k0],["cubehelix",N0],["warm",D0],["cool",L0],["bugn",jd],["bupu",Kd],["gnbu",Jd],["orrd",n0],["pubugn",r0],["pubu",o0],["purd",f0],["rdpu",u0],["ylgnbu",l0],["ylgn",d0],["ylorbr",m0],["ylorrd",b0],["rainbow",I0],["sinebow",F0]]);function Jc(t){const n=`${t}`.toLowerCase();if(!Xs.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Xs.get(n)}const D5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function L5(t){return t!=null&&D5.has(`${t}`.toLowerCase())}const o1=t=>n=>t(1-n),Wa=[0,1],Gs=new Map([["number",Mt],["rgb",he],["hsl",$b],["hcl",Ab],["lab",Tb]]);function a1(t){const n=`${t}`.toLowerCase();if(!Gs.has(n))throw new Error(`unknown interpolator: ${n}`);return Gs.get(n)}function pi(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=c1(t,e),unknown:c,round:u,scheme:s,interval:l,range:h=lt.get(t)===si?W5(e,f):lt.get(t)===li?H5(e,f):lt.get(t)===hi?Wa:void 0,interpolate:d=lt.get(t)===Pn?s==null&&h!==void 0?he:Jc(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):u?pc:Mt,reverse:p}){if(l=Ze(l,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=a1(d)),p=!!p,h!==void 0){const m=(f=Ut(f)).length,g=(h=Ut(h)).length;if(m!==g){if(d.length===1)throw new Error("invalid piecewise interpolator");d=Oo(d,h),h=void 0}}if(d.length===1?(p&&(d=o1(d),p=!1),h===void 0&&(h=Float64Array.from(f,(m,g)=>g/(f.length-1)),h.length===2&&(h=Wa)),n.interpolate((h===Wa?ci:nu)(d))):n.interpolate(d),a){const[m,g]=It(f);(m>0||g<0)&&(f=Pr(f),Ve(f)!==Math.sign(m)?f[f.length-1]=0:f[0]=0)}return p&&(f=ji(f)),n.domain(f).unknown(c),i&&(n.nice(I5(i,r)),f=n.domain()),h!==void 0&&n.range(h),o&&n.clamp(o),{type:r,domain:f,range:h,scale:n,interpolate:d,interval:l}}function I5(t,n){return t===!0?void 0:typeof t=="number"?t:M3(t,n)}function F5(t,n,e){return pi(t,Sc(),n,e)}function R5(t,n,e){return f1(t,n,{...e,exponent:.5})}function f1(t,n,{exponent:e=1,...r}){return pi(t,dd().exponent(e),n,{...r,type:"pow"})}function P5(t,n,{base:e=10,domain:r=V5(n),...i}){return pi(t,ud().base(e),n,{...i,domain:r})}function O5(t,n,{constant:e=1,...r}){return pi(t,ld().constant(e),n,r)}function U5(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=X5(n),unknown:f,interpolate:c,reverse:u}){return e===void 0&&(e=c!==void 0?Qt(c,i):lt.get(t)===Pn?ca(o,i):void 0),a.length>0&&(a=pd(a,e===void 0?{length:i}:e).quantiles()),tu(t,n,{domain:a,range:e,reverse:u,unknown:f})}function z5(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=c1(t,n),unknown:a,interpolate:f,reverse:c}){const[u,s]=It(o);let l;return e===void 0?(l=Ar(u,s,r),l[0]<=u&&l.splice(0,1),l[l.length-1]>=s&&l.pop(),r=l.length+1,e=f!==void 0?Qt(f,r):lt.get(t)===Pn?ca(i,r):void 0):(l=Qt(Mt(u,s),r+1).slice(1,-1),u instanceof Date&&(l=l.map(h=>new Date(h)))),Ve(Ut(o))<0&&l.reverse(),tu(t,n,{domain:l,range:e,reverse:c,unknown:a})}function tu(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Qt(o,e.length+1):lt.get(t)===Pn?ca(i,e.length+1):void 0,reverse:f}){e=Ut(e);const c=Ve(e);if(!isNaN(c)&&!q5(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=ji(a)),{type:"threshold",scale:md(c<0?ji(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function q5(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Hr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function B5(t){return{type:"identity",scale:F3(lt.get(t))?ad():n=>n}}function Yr(t,n=wp){return t.length?[dn(t,({value:e})=>e===void 0?e:dn(e,n)),Xt(t,({value:e})=>e===void 0?e:Xt(e,n))]:[0,1]}function c1(t,n){const e=lt.get(t);return(e===si||e===hi||e===li?Y5:Yr)(n)}function Y5(t){return[0,t.length?Xt(t,({value:n})=>n===void 0?n:Xt(n,wp)):1]}function W5(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=Fe(t,.5,({value:a})=>a===void 0?NaN:Fe(a,.25,Pc)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/Xt(i);return o<1?i.map(a=>a*o):i}function H5(t,n){const e=Gi(t,({value:o})=>o===void 0?NaN:Gi(o,Math.abs)),r=n.map(o=>12*o/e),i=60/Xt(r);return i<1?r.map(o=>o*i):r}function V5(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Yr(t,Pc);if(e<0)return Yr(t,_p)}return[1,10]}function X5(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function nu(t){return(n,e)=>r=>t(n+r*(e-n))}function ua(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=Yr(r),unknown:c,pivot:u=0,scheme:s,range:l,symmetric:h=!0,interpolate:d=lt.get(t)===Pn?s==null&&l!==void 0?he:Jc(s!==void 0?s:"rdbu"):Mt,reverse:p}){u=+u,f=Ut(f);let[m,g]=f;if(f.length>2&&Bn(`Warning: the diverging ${t} scale domain contains extra elements.`),Hr(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,u),g=Math.max(g,u),typeof d!="function"&&(d=a1(d)),l!==void 0&&(d=d.length===1?nu(d)(...l):Oo(d,l)),p&&(d=o1(d)),h){const w=e.apply(u),b=w-e.apply(m),_=e.apply(g)-w;b<_?m=e.invert(w-_):b>_&&(g=e.invert(w+b))}return n.domain([m,u,g]).unknown(c).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[m,g],pivot:u,interpolate:d,scale:n}}function G5(t,n,e){return ua(t,kd(),Q5,n,e)}function j5(t,n,e){return u1(t,n,{...e,exponent:.5})}function u1(t,n,{exponent:e=1,...r}){return ua(t,Ld().exponent(e=+e),n8(e),n,{...r,type:"diverging-pow"})}function Z5(t,n,{base:e=10,pivot:r=1,domain:i=Yr(n,r<0?_p:Pc),...o}){return ua(t,Nd().base(e=+e),J5,n,{domain:i,pivot:r,...o})}function K5(t,n,{constant:e=1,...r}){return ua(t,Dd().constant(e=+e),e8(e),n,r)}const Q5={apply(t){return t},invert(t){return t}},J5={apply:Math.log,invert:Math.exp},t8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function n8(t){return t===.5?t8:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function e8(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function s1(t,n,e,r){return pi(t,n,e,r)}function r8(t,n,e){return s1(t,y_(),n,e)}function i8(t,n,e){return s1(t,w_(),n,e)}const mi=Symbol("ordinal");function l1(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=Ze(i,r),o===void 0&&(o=d1(e,i,t)),(r==="categorical"||r===mi)&&(r="ordinal"),f&&(o=ji(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:c,interval:i}}function o8(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=Ze(r,e),i===void 0&&(i=d1(n,r,t));let u;if(lt.get(t)===oa)u=c8(n),o=o===void 0?u8(u):dt(o,Xc);else if(lt.get(t)===Pn&&(o===void 0&&(e==="ordinal"||e===mi)&&(o=N5(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=Jc(a),l=o[0],h=o[1]-o[0];o=({length:d})=>Qt(p=>s(l+h*p),d)}else o=i1(a);if(f===Uf)throw new Error(`implicit unknown on ${t} scale is not supported`);return l1(t,Tc().unknown(f),n,{...c,type:e,domain:i,range:o,hint:u})}function a8(t,n,{align:e=.5,padding:r=.5,...i}){return h1(Jw().align(e).padding(r),n,i,t)}function f8(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return h1(Ho().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function h1(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=l1(r,t,n,e),t.round=i,t}function d1(t,n,e){const r=new Lo;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=It(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&lt.get(e)===sn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Tr(r,nn)}function js(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function c8(t){return{fill:js(t,"fill"),stroke:js(t,"stroke")}}function u8(t){return Nt(t.fill)?Y_:B_}function Jf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:c,clamp:u,zero:s,align:l,padding:h,projection:d,facet:{label:p=n}={},...m}={}){const g={};for(const[w,b]of t){const _=m[w],y=p8(w,b,{round:lt.get(w)===sn?f:void 0,nice:c,clamp:u,zero:s,align:l,padding:h,projection:d,..._});if(y){let{label:v=w==="fx"||w==="fy"?p:n,percent:x,transform:$,inset:A,insetTop:C=A!==void 0?A:w==="y"?r:0,insetRight:k=A!==void 0?A:w==="x"?i:0,insetBottom:M=A!==void 0?A:w==="y"?o:0,insetLeft:D=A!==void 0?A:w==="x"?a:0}=_||{};if($==null)$=void 0;else if(typeof $!="function")throw new Error("invalid scale transform; not a function");y.percent=!!x,y.label=v===void 0?l8(b,y):v,y.transform=$,w==="x"||w==="fx"?(y.insetLeft=+D,y.insetRight=+k):(w==="y"||w==="fy")&&(y.insetTop=+C,y.insetBottom=+M),g[w]=y}}return g}function Zs(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;n[r]=w8(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return e}function s8(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?eu(n):n;i&&Ks(i,a),o&&Qs(o,a);const f=i||o?p1(t,n):n;e&&Ks(e,f),r&&Qs(r,f)}function l8(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!Me(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function h8(t){return Math.sign(Ve(t.domain()))*Math.sign(Ve(t.range()))}function eu(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:u,marginLeft:s}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,u),marginLeft:Math.max(i,s),width:o,height:a}}function p1({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=eu(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function Ks(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,c=i-a-r;t.range=[f,Math.max(f,c)],Me(t)||(t.range=g1(t)),t.scale.range(t.range)}m1(t)}function Qs(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,c=i-a-r;t.range=[Math.max(f,c),f],Me(t)?t.range.reverse():t.range=g1(t),t.scale.range(t.range)}m1(t)}function m1(t){t.round===void 0&&g8(t)&&d8(t)<=30&&t.scale.round(!0)}function d8({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function g1(t){const n=t.scale.domain().length+b1(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function p8(t,n=[],e={}){const r=m8(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&Me({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Lt)?Bn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ae(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Ae(r)}".`):i.some(S3)?Bn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ae(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Ae(r)}".`):i.some(A3)&&Bn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ae(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Ae(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=Li(n,e,He);break;case"identity":switch(lt.get(t)){case sn:e=Li(n,e,He);break;case oa:e=Li(n,e,b8);break}break;case"utc":case"time":e=Li(n,e,w3);break}switch(r){case"diverging":return G5(t,n,e);case"diverging-sqrt":return j5(t,n,e);case"diverging-pow":return u1(t,n,e);case"diverging-log":return Z5(t,n,e);case"diverging-symlog":return K5(t,n,e);case"categorical":case"ordinal":case mi:return o8(t,n,e);case"cyclical":case"sequential":case"linear":return F5(t,n,e);case"sqrt":return R5(t,n,e);case"threshold":return tu(t,n,e);case"quantile":return U5(t,n,e);case"quantize":return z5(t,n,e);case"pow":return f1(t,n,e);case"log":return P5(t,n,e);case"symlog":return O5(t,n,e);case"utc":return i8(t,n,e);case"time":return r8(t,n,e);case"point":return a8(t,n,e);case"band":return f8(t,n,e);case"identity":return B5(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Ae(t){return typeof t=="symbol"?t.description:t}function Js(t){return typeof t=="string"?`${t}`.toLowerCase():t}const tl={toString:()=>"projection"};function m8(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(e=Js(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=tl);for(const u of n){const s=Js(u.type);if(s!==void 0){if(e===void 0)e=s;else if(e!==s)throw new Error(`scale incompatible with channel: ${e} !== ${s}`)}}if(e===tl)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:u})=>u!==void 0))return;const c=lt.get(t);if(c===si)return"sqrt";if(c===hi||c===li)return"linear";if(c===oa)return"ordinal";if((r||i||[]).length>2)return Ha(c);if(r!==void 0){if(Ps(r))return Ha(c);if(Lt(r))return"utc"}else{const u=n.map(({value:s})=>s).filter(s=>s!==void 0);if(u.some(Ps))return Ha(c);if(u.some(Lt))return"utc"}if(c===Pn){if(a!=null||L5(o))return"diverging";if(k5(o))return"categorical"}return"linear"}function Ha(t){switch(t){case sn:return"point";case Pn:return mi;default:return"ordinal"}}function Me({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===mi}function b1({type:t}){return t==="threshold"}function g8({type:t}){return t==="point"||t==="band"}function So(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function Li(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function b8(t){return dt(t,Xc)}function y8(t){return n=>{if(!lt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function w8({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const u=t.unknown?t.unknown():void 0;return{type:n,domain:Pr(e),...r!==void 0&&{range:Pr(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function _8(t,n,e={}){let r=.5-Rt,i=.5+Rt,o=.5+Rt,a=.5-Rt;for(const{marginTop:m,marginRight:g,marginBottom:w,marginLeft:b}of n)m>r&&(r=m),g>i&&(i=g),w>o&&(o=w),b>a&&(a=b);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:u=f!==void 0?f:i,marginBottom:s=f!==void 0?f:o,marginLeft:l=f!==void 0?f:a}=e;c=+c,u=+u,s=+s,l=+l;let{width:h=640,height:d=v8(t,e,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+s-o)}=e;h=+h,d=+d;const p={width:h,height:d,marginTop:c,marginRight:u,marginBottom:s,marginLeft:l};if(t.fx||t.fy){let{margin:m,marginTop:g=m!==void 0?m:c,marginRight:w=m!==void 0?m:u,marginBottom:b=m!==void 0?m:s,marginLeft:_=m!==void 0?m:l}=e.facet??{};g=+g,w=+w,b=+b,_=+_,p.facet={marginTop:g,marginRight:w,marginBottom:b,marginLeft:_}}return p}function v8({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:u,marginLeftDefault:s}){const l=e?e.scale.domain().length:1,h=A5(i);if(h){const p=r?r.scale.domain().length:1,m=(1.1*l-.1)/(1.1*p-.1)*h,g=Math.max(.1,Math.min(10,m));return Math.round((a-s-c)*g+f+u)}const d=n?Me(n)?n.scale.domain().length:Math.max(7,17/l):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=nl("y",n)/(nl("x",t)*o),m=r?r.scale.bandwidth():1,g=e?e.scale.bandwidth():1,w=m*(a-s-c)-t.insetLeft-t.insetRight;return(p*w+n.insetTop+n.insetBottom)/g+f+u}return!!(n||e)*Math.max(1,Math.min(60,d*l))*20+!!r*30+60}function nl(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=It(r);return Math.abs(i(a)-i(o))}function x8(t,n){const{fx:e,fy:r}=Jf(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?zm(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function M8(t,{x:n,y:e}){return n&&=tc(n),e&&=tc(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function ru(t,{fx:n,fy:e}){const r=Rn(t),i=n?.value,o=e?.value;return n&&e?Ne(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?Ne(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Ne(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function $8(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${n(i)-e})`}function T8(t){const n=[],e=new Uint32Array(kn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const S8=new Map([["top",Va],["right",ja],["bottom",Xa],["left",Ga],["top-left",Ii(Va,Ga)],["top-right",Ii(Va,ja)],["bottom-left",Ii(Xa,Ga)],["bottom-right",Ii(Xa,ja)],["top-empty",E8],["right-empty",D8],["bottom-empty",k8],["left-empty",N8],["empty",L8]]);function A8(t){if(t==null)return null;const n=S8.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const el=new WeakMap;function tc(t){let n=el.get(t);return n||el.set(t,n=new ue(dt(t,(e,r)=>[e,r]))),n}function Kn(t,n){return tc(t).get(n)}function C8(t,n,e){return n=ie(n),e=ie(e),t.find(r=>Object.is(ie(r.x),n)&&Object.is(ie(r.y),e))}function sa(t,n,e){return C8(t,n,e)?.empty}function Va(t,{y:n},{y:e}){return n?Kn(n,e)===0:!0}function Xa(t,{y:n},{y:e}){return n?Kn(n,e)===n.length-1:!0}function Ga(t,{x:n},{x:e}){return n?Kn(n,e)===0:!0}function ja(t,{x:n},{x:e}){return n?Kn(n,e)===n.length-1:!0}function E8(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Kn(n,r);if(o>0)return sa(t,e,n[o-1])}function k8(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Kn(n,r);if(o<n.length-1)return sa(t,e,n[o+1])}function N8(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Kn(n,e);if(o>0)return sa(t,n[o-1],r)}function D8(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Kn(n,e);if(o<n.length-1)return sa(t,n[o+1],r)}function L8(t,n,{empty:e}){return e}function Ii(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Za(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class on{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:u,dx:s=0,dy:l=0,margin:h=0,marginTop:d=h,marginRight:p=h,marginBottom:m=h,marginLeft:g=h,clip:w=i?.clip,channels:b,tip:_,render:y}=r;if(this.data=n,this.sort=Or(u)?u:null,this.initializer=qr(r).initializer,this.transform=this.initializer?r.transform:aa(r).transform,o===null||o===!1?this.facet=null:(this.facet=rn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===Yi&&typeof f=="string"?[f]:f,this.fy=n===Yi&&typeof c=="string"?[c]:c),this.facetAnchor=A8(a),e=Pp(e),b!==void 0&&(e={...I8(b),...e}),i!==void 0&&(e={...h5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([v,x])=>{if(Wc(x.value)){const{value:$,label:A=x.label,scale:C=x.scale}=x.value;x={...x,label:A,scale:C,value:$}}if(n===Yi&&typeof x.value=="string"){const{value:$}=x;x={...x,value:[$]}}return[v,x]}).filter(([v,{value:x,optional:$}])=>{if(x!=null)return!0;if($)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+s,this.dy=+l,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=Qp(w),this.tip=F8(_),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:x}=e[v];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=y1(y,this.render))}initialize(n,e,r){let i=Ut(this.data);n===void 0&&i!=null&&(n=[Rn(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Ut(i)),n!==void 0&&(n.original=o);const a=J3(this.channels,i);return this.sort!=null&&n5(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=mn}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&T5(i,o,e,r.projection)}}scale(n,e,r){const i=t5(n,e);return r.projection&&this.project(n,i,r),i}}function iu(...t){return t.plot=on.prototype.plot,t}function y1(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(c,u,s,l,h)=>n.call(this,c,u,s,l,h,f))}}function I8(t){return Object.fromEntries(Object.entries(Pp(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:ui(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function F8(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?rn(t,"tip",["x","y","xy"]):t}function la(t,n){return t?.tip===!0?{...t,tip:n}:Fn(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}const rl=new WeakMap;function ou(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...u}={}){return a=+a,i!=null&&(e??=null,f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??=null,f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...u,render:y1(function(s,l,h,d,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:w}=p.getMarkState(this);let b=rl.get(g);b||rl.set(g,b={sticky:!1,roots:[],renders:[]});let _=b.renders.push(B)-1;const{x:y,y:v,fx:x,fy:$}=l;let A=x?x(s.fx)-d.marginLeft:0,C=$?$(s.fy)-d.marginTop:0;y?.bandwidth&&(A+=y.bandwidth()/2),v?.bandwidth&&(C+=v.bandwidth()/2);const k=s.fi!=null;let M;if(k){let P=b.facetStates;P||(b.facetStates=P=new Map),M=P.get(this),M||P.set(this,M=new Map)}const[D,F]=fa(this,d),{px:L,py:T}=h,I=L?P=>L[P]:_1(h,D),H=T?P=>T[P]:v1(h,F);let W,N,U,z;function R(P,V){if(k)if(z&&(z=cancelAnimationFrame(z)),P==null)M.delete(s.fi);else{M.set(s.fi,V),z=requestAnimationFrame(()=>{z=null;for(const[E,O]of M)if(O<V||O===V&&E<s.fi){P=null;break}B(P)});return}B(P)}function B(P){if(W===P&&U===b.sticky)return;W=P,U=p.pointerSticky=b.sticky;const V=W==null?[]:[W];k&&(V.fx=s.fx,V.fy=s.fy,V.fi=s.fi);const E=m(V,l,h,d,p);if(N){if(k){const O=N.parentNode,q=N.getAttribute("transform"),S=E.getAttribute("transform");q?E.setAttribute("transform",q):E.removeAttribute("transform"),S?O.setAttribute("transform",S):O.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}N.replaceWith(E)}return b.roots[_]=N=E,W==null&&M?.size>1||p.dispatchValue(W==null?null:w[W]),E}function et(P){if(b.sticky||P.pointerType==="mouse"&&P.buttons===1)return;let[V,E]=V2(P);V-=A,E-=C;const O=V<d.marginLeft||V>d.width-d.marginRight?1:t,q=E<d.marginTop||E>d.height-d.marginBottom?1:n;let S=null,nt=a*a;for(const Y of s){const ot=O*(I(Y)-V),ct=q*(H(Y)-E),xt=ot*ot+ct*ct;xt<=nt&&(S=Y,nt=xt)}if(S!=null&&(t!==1||n!==1)){const Y=I(S)-V,ot=H(S)-E;nt=Y*Y+ot*ot}R(S,nt)}function J(P){P.pointerType==="mouse"&&W!=null&&(b.sticky&&b.roots.some(V=>V?.contains(P.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(V=>V(null))):(b.sticky=!0,B(W)),P.stopImmediatePropagation()))}function tt(P){P.pointerType==="mouse"&&(b.sticky||R(null))}return g.addEventListener("pointerenter",et),g.addEventListener("pointermove",et),g.addEventListener("pointerdown",J),g.addEventListener("pointerleave",tt),B(null)},c)}}function R8(t){return ou(1,1,t)}function w1(t){return ou(1,.01,t)}function il(t){return ou(.01,1,t)}function _1({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function v1({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function x1(t){return Me(t)&&t.interval===void 0?void 0:"tabular-nums"}function P8(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:u=0,style:s,ticks:l=(i-u-f)/64,tickFormat:h,fontVariant:d=x1(t),round:p=!0,opacity:m,className:g}=n;const w=Qc(n);g=Zc(g),m=Ft(m)[1],h===null&&(h=()=>null);const b=Tt("svg",w).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(D=>D.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(Kc,s);let _=D=>D.selectAll(".tick line").attr("y1",a+c-o),y;const v=p?(D,F)=>D.rangeRound(F):(D,F)=>D.range(F),{type:x,domain:$,range:A,interpolate:C,scale:k,pivot:M}=t;if(C){const D=A===void 0?C:Oo(C.length===1?nu(C):C,A);y=v(k.copy(),Qt(Mt(u,i-f),Math.min($.length+(M!==void 0),A===void 0?1/0:A.length)));const F=256,L=w.document.createElement("canvas");L.width=F,L.height=1;const T=L.getContext("2d");for(let I=0,H=F-1;I<F;++I)T.fillStyle=D(I/H),T.fillRect(I,0,1,1);b.append("image").attr("opacity",m).attr("x",u).attr("y",a).attr("width",i-u-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if(x==="threshold"){const D=$,F=h===void 0?L=>L:typeof h=="string"?ye(h):h;y=v(Sc().domain([-1,A.length-1]),[u,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(A).enter().append("rect").attr("x",(L,T)=>y(T-1)).attr("y",a).attr("width",(L,T)=>y(T)-y(T-1)).attr("height",o-a-c).attr("fill",L=>L),l=dt(D,(L,T)=>T),h=L=>F(D[L],L)}else y=v(Ho().domain($),[u,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data($).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",o-a-c).attr("fill",k),_=()=>{};return b.append("g").attr("transform",`translate(0,${o-c})`).call(ug(y).ticks(Array.isArray(l)?null:l,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",St(d,"normal")).call(_).call(D=>D.select(".domain").remove()),e!==void 0&&b.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}const M1=Math.PI/180;function au(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Ka(e),t.markerMid=Ka(r),t.markerEnd=Ka(i)}function Ka(t){if(t==null||t===!1)return null;if(t===!0)return al;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return ol("auto");case"arrow-reverse":return ol("auto-start-reverse");case"dot":return O8;case"circle":case"circle-fill":return al;case"circle-stroke":return U8;case"tick":return Qa("auto");case"tick-x":return Qa(90);case"tick-y":return Qa(0)}throw new Error(`invalid marker: ${t}`)}function ol(t){return(n,e)=>Tt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function O8(t,n){return Tt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function al(t,n){return Tt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function U8(t,n){return Tt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Qa(t){return(n,e)=>Tt("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let z8=0;function $1(t,n,{stroke:e},r){return T1(t,n,e&&(i=>e[i]),r)}function q8(t,n,{stroke:e},r){return T1(t,n,e&&(([i])=>e[i]),r)}function T1(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a){const f=new Map;function c(u){return function(s){const l=o(s);let h=f.get(u);h||f.set(u,h=new Map);let d=h.get(l);if(!d){const p=this.parentNode.insertBefore(u(l,a),this),m=`plot-marker-${++z8}`;p.setAttribute("id",m),h.set(l,d=`url(#${m})`)}return d}}n&&t.attr("marker-start",c(n)),e&&t.attr("marker-mid",c(e)),r&&t.attr("marker-end",c(r))}function fu({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=A1(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function S1({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=A1(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function A1(t,n,e){return t===void 0&&n===void 0&&e===void 0?Rt?[1,0]:[.5,.5]:[n,e]}function C1(t,{interval:n}){return t={...ui(t)},t.interval=Hc(t.interval===void 0?n:t.interval),t}function E1(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:c}=C1(i,e);if(f==null||c==null&&!r)return e;const u=xe(i);if(c==null){let d;const p={transform:m=>d||(d=ht(m,f)),label:u};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,l;function h(d){return l!==void 0&&d===s?l:l=dt(ht(s=d,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:h,label:u}:o,[`${t}2`]:a===void 0?{transform:d=>h(d).map(p=>c.offset(p)),label:u}:a})}function k1(t,n,e){const{[t]:r}=e,{value:i,interval:o}=C1(r,e);return i==null||o==null?e:n({...e,[t]:{label:xe(r),transform:a=>{const f=dt(ht(a,i),u=>o.floor(u)),c=f.map(u=>o.offset(u));return f.map(Lt(f)?(u,s)=>u==null||isNaN(u=+u)||(s=c[s],s==null)||isNaN(s=+s)?void 0:new Date((u+s)/2):(u,s)=>u==null||(s=c[s],s==null)?NaN:(+u+ +s)/2)}}})}function B8(t={}){return E1("x",fu,t)}function Y8(t={}){return E1("y",S1,t)}function W8(t={}){return k1("x",fu,t)}function H8(t={}){return k1("y",S1,t)}const N1={ariaLabel:"rule",fill:null,stroke:"currentColor"};class V8 extends on{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},la(e,"x"),N1),this.insetTop=yt(f),this.insetBottom=yt(c),au(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y1:u,y2:s}=r,{width:l,height:h,marginTop:d,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:w,insetBottom:b}=this;return Tt("svg:g",o).call(Gn,this,i,o).call(Zn,this,{x:c&&a},Rt,0).call(_=>_.selectAll().data(n).enter().append("line").call(jn,this).attr("x1",c?y=>c[y]:(m+l-p)/2).attr("x2",c?y=>c[y]:(m+l-p)/2).attr("y1",u&&!So(f)?y=>u[y]+w:d+w).attr("y2",s&&!So(f)?f.bandwidth?y=>s[y]+f.bandwidth()-b:y=>s[y]-b:h-g-b).call(di,this,r).call($1,this,r,o)).node()}}class X8 extends on{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},la(e,"y"),N1),this.insetRight=yt(f),this.insetLeft=yt(c),au(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:c,x1:u,x2:s}=r,{width:l,height:h,marginTop:d,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:w,insetRight:b}=this;return Tt("svg:g",o).call(Gn,this,i,o).call(Zn,this,{y:c&&f},0,Rt).call(_=>_.selectAll().data(n).enter().append("line").call(jn,this).attr("x1",u&&!So(a)?y=>u[y]+w:m+w).attr("x2",s&&!So(a)?a.bandwidth?y=>s[y]+a.bandwidth()-b:y=>s[y]-b:l-p-b).attr("y1",c?y=>c[y]:(d+h-g)/2).attr("y2",c?y=>c[y]:(d+h-g)/2).call(di,this,r).call($1,this,r,o)).node()}}function D1(t,n){let{x:e=Et,y:r,y1:i,y2:o,...a}=Y8(n);return[i,o]=L1(r,i,o),new V8(t,{...a,x:e,y1:i,y2:o})}function cu(t,n){let{y:e=Et,x:r,x1:i,x2:o,...a}=B8(n);return[i,o]=L1(r,i,o),new X8(t,{...a,y:e,x1:i,x2:o})}function L1(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function I1(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const G8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},F1="­";class uu extends on{constructor(n,e={}){const{x:r,y:i,text:o=Xn(n)&&Rp(n)?Et:qc,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:s=1/0,textOverflow:l,monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:w,rotate:b}=e,[_,y]=Ft(b,0),[v,x]=t4(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:T3(_),optional:!0},text:{value:o,filter:Rc,optional:!0}},e,G8),this.rotate=y,this.textAnchor=St(f,"middle"),this.lineAnchor=rn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+s,this.textOverflow=R1(l),this.monospace=!!h,this.fontFamily=Ct(d),this.fontSize=x,this.fontStyle=Ct(m),this.fontVariant=Ct(g),this.fontWeight=Ct(w),this.frameAnchor=Vc(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=O1(this),this.clipLine=U1(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:u,rotate:s,text:l,title:h,fontSize:d}=r,{rotate:p}=this,[m,g]=fa(this,i);return Tt("svg:g",o).call(Gn,this,i,o).call(P1,this,l,i).call(Zn,this,{x:c&&a,y:u&&f}).call(w=>w.selectAll().data(n).enter().append("text").call(jn,this).call(j8,this,l,h).attr("transform",I1`translate(${c?b=>c[b]:m},${u?b=>u[b]:g})${s?b=>` rotate(${s[b]})`:p?` rotate(${p})`:""}`).call(Z,"font-size",d&&(b=>d[b])).call(di,this,r)).node()}}function R1(t){return t==null?null:rn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function j8(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=n;t.each(function(u){const s=f(be(e[u])??"").map(c),l=s.length,h=i==="top"?.71:i==="bottom"?1-l:(164-l*100)/200;if(l>1){let d=0;for(let p=0;p<l;++p){if(++d,!s[p])continue;const m=this.ownerDocument.createElementNS(Re.svg,"tspan");m.setAttribute("x",0),p===d-1?m.setAttribute("y",`${(h+p)*o}em`):m.setAttribute("dy",`${d*o}em`),m.textContent=s[p],this.appendChild(m),d=0}}else h&&this.setAttribute("y",`${h*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==e[u]){const d=this.ownerDocument.createElementNS(Re.svg,"title");d.textContent=e[u],this.appendChild(d)}})}function Ao(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Np(n,e)),new uu(t,{...r,x:n,y:e})}function Z8(t,{x:n=Et,...e}={}){return new uu(t,H8({...e,x:n}))}function K8(t,{y:n=Et,...e}={}){return new uu(t,W8({...e,y:n}))}function P1(t,n,e){Z(t,"text-anchor",n.textAnchor),Z(t,"font-family",n.fontFamily),Z(t,"font-size",n.fontSize),Z(t,"font-style",n.fontStyle),Z(t,"font-variant",n.fontVariant===void 0?Q8(e):n.fontVariant),Z(t,"font-weight",n.fontWeight)}function Q8(t){return t&&(C3(t)||Lt(t))?"tabular-nums":void 0}const J8=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function t4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),J8.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function n4(t,n,e){const r=[];let i,o=0;for(const[a,f,c]of e4(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===F1?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*e4(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case F1:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const fl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function su(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ke(t,i))r+=fl[t[i]]??(q1(t,i)?120:fl.e);return r}function lu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ke(t,i))r+=q1(t,i)?126:63;return r}function O1({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?lu:su,i=n*100;return o=>n4(o,i,r)}function U1({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?lu:su,i=n*100;switch(e){case"clip-start":return o=>ul(o,i,r,"");case"clip-end":return o=>cl(o,i,r,"");case"ellipsis-start":return o=>ul(o,i,r,Ie);case"ellipsis-middle":return o=>r4(o,i,r,Ie);case"ellipsis-end":return o=>cl(o,i,r,Ie)}}const Ie="…";function Xe(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=Ke(t,a);const u=e(t,a,f);if(o+u>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=u,i.push(a)}return[-1,0]}function cl(t,n,e,r){t=t.trim();const i=e(r),[o]=Xe(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function r4(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=Xe(t,n/2,e,o),[c]=Xe(t,i-n/2-f+o,e,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Ke(t,c)).trimStart()}function ul(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=Xe(t,i-n+o,e,-o);return a<0?r:r+t.slice(Ke(t,a)).trimStart()}const nc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,sl=/\p{Extended_Pictographic}/uy;function Ke(t,n){return n+=i4(t,n)?2:1,a4(t,n)&&(n=nc.lastIndex),o4(t,n)?Ke(t,n+1):n}function z1(t,n){return t.charCodeAt(n)<128}function i4(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function o4(t,n){return t.charCodeAt(n)===8205}function a4(t,n){return z1(t,n)?!1:(nc.lastIndex=n,nc.test(t))}function q1(t,n){return z1(t,n)?!1:(sl.lastIndex=n,sl.test(t))}const f4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},B1=3.5,c4=B1*5,Y1={draw(t,n,e){const r=n*e/c4;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},u4={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},s4=new Map([["arrow",Y1],["spike",u4]]);function l4(t){return t&&typeof t.draw=="function"}function h4(t){if(l4(t))return t;const n=s4.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class W1 extends on{constructor(n,e={}){const{x:r,y:i,r:o=B1,length:a,rotate:f,shape:c=Y1,anchor:u="middle",frameAnchor:s}=e,[l,h]=Ft(a,12),[d,p]=Ft(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,f4),this.r=+o,this.length=h,this.rotate=p,this.shape=h4(c),this.anchor=rn(u,"anchor",["start","middle","end"]),this.frameAnchor=Vc(s)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:u,length:s,rotate:l}=r,{length:h,rotate:d,anchor:p,shape:m,r:g}=this,[w,b]=fa(this,i);return Tt("svg:g",o).call(Gn,this,i,o).call(Zn,this,{x:c&&a,y:u&&f}).call(_=>_.selectAll().data(n).enter().append("path").call(jn,this).attr("transform",I1`translate(${c?y=>c[y]:w},${u?y=>u[y]:b})${l?y=>` rotate(${l[y]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?s?y=>` translate(0,${s[y]})`:` translate(0,${h})`:s?y=>` translate(0,${s[y]/2})`:` translate(0,${h/2})`}`).attr("d",s?y=>{const v=xf();return m.draw(v,s[y],g),v}:(()=>{const y=xf();return m.draw(y,h,g),y})()).call(di,this,r)).node()}}function d4(t,n={}){const{x:e=Et,...r}=n;return new W1(t,{...r,x:e})}function p4(t,n={}){const{y:e=Et,...r}=n;return new W1(t,{...r,y:e})}function Qn(t,n){return arguments.length<2&&!Xn(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function ha({anchor:t}={},n){return t===void 0?n[0]:rn(t,"anchor",n)}function H1(t){return ha(t,["left","right"])}function V1(t){return ha(t,["right","left"])}function X1(t){return ha(t,["bottom","top"])}function G1(t){return ha(t,["top","bottom"])}function j1(){const[t,n]=Qn(...arguments);return K1("y",H1(n),t,n)}function m4(){const[t,n]=Qn(...arguments);return K1("fy",V1(n),t,n)}function Z1(){const[t,n]=Qn(...arguments);return Q1("x",X1(n),t,n)}function g4(){const[t,n]=Qn(...arguments);return Q1("fx",G1(n),t,n)}function K1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:u=i,textAnchor:s,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:g,x:w,margin:b,marginTop:_=b===void 0?20:b,marginRight:y=b===void 0?n==="right"?40:0:b,marginBottom:v=b===void 0?20:b,marginLeft:x=b===void 0?n==="left"?40:0:b,label:$,labelAnchor:A,labelArrow:C,labelOffset:k,...M}){return p=yt(p),m=yt(m),g=yt(g),A!==void 0&&(A=rn(A,"labelAnchor",["center","top","bottom"])),C=am(C),iu(p&&!Nt(o)?b4(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:w,...M}):null,Nt(c)?null:w4(t,n,e,{fill:c,fillOpacity:u,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,x:w,marginTop:_,marginRight:y,marginBottom:v,marginLeft:x,...M}),!Nt(c)&&$!==null?Ao([],em({fill:c,fillOpacity:u,...M},function(D,F,L,T,I){const H=T[t],{marginTop:W,marginRight:N,marginBottom:U,marginLeft:z}=t==="y"&&I.inset||I,R=A??(H.bandwidth?"center":"top"),B=k??(n==="right"?N:z)-3;return R==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=R,this.frameAnchor=`${R}-${n}`,this.rotate=0),this.dy=R==="top"?3-W:R==="bottom"?U-3:0,this.dx=n==="right"?B:-B,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[om(t,H,{anchor:n,label:$,labelAnchor:R,labelArrow:C})]}}}})):null)}function Q1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:u=i,textAnchor:s,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:g,y:w,margin:b,marginTop:_=b===void 0?n==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:v=b===void 0?n==="bottom"?30:0:b,marginLeft:x=b===void 0?20:b,label:$,labelAnchor:A,labelArrow:C,labelOffset:k,...M}){return p=yt(p),m=yt(m),g=yt(g),A!==void 0&&(A=rn(A,"labelAnchor",["center","left","right"])),C=am(C),iu(p&&!Nt(o)?y4(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y:w,...M}):null,Nt(c)?null:_4(t,n,e,{fill:c,fillOpacity:u,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,y:w,marginTop:_,marginRight:y,marginBottom:v,marginLeft:x,...M}),!Nt(c)&&$!==null?Ao([],em({fill:c,fillOpacity:u,...M},function(D,F,L,T,I){const H=T[t],{marginTop:W,marginRight:N,marginBottom:U,marginLeft:z}=t==="x"&&I.inset||I,R=A??(H.bandwidth?"center":"right"),B=k??(n==="top"?W:U)-3;return R==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${R}`,this.textAnchor=R==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-B:B,this.dx=R==="right"?N-3:R==="left"?3-z:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[om(t,H,{anchor:n,label:$,labelAnchor:R,labelArrow:C})]}}}})):null)}function b4(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:u=0,insetLeft:s=u,insetRight:l=u,dx:h=0,y:d=t==="y"?void 0:null,...p}){return Qe(p4,t,n,`${t}-axis tick`,e,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:d,...p,dx:n==="left"?+h-Rt+ +s:+h+Rt-l,anchor:"start",length:c,shape:n==="left"?C4:E4})}function y4(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:u=0,insetTop:s=u,insetBottom:l=u,dy:h=0,x:d=t==="x"?void 0:null,...p}){return Qe(d4,t,n,`${t}-axis tick`,e,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:d,...p,dy:n==="bottom"?+h-Rt-l:+h+Rt+ +s,anchor:"start",length:c,shape:n==="bottom"?S4:A4})}function w4(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*M1):0),text:c,textAnchor:u=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:l,inset:h=0,insetLeft:d=h,insetRight:p=h,dx:m=0,y:g=t==="y"?void 0:null,...w}){return Qe(K8,t,n,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:c,textAnchor:u,lineAnchor:s,fontVariant:l,rotate:a,y:g,...w,dx:n==="left"?+m-o-f+ +d:+m+ +o+ +f-p},function(b,_,y,v,x){l===void 0&&(this.fontVariant=im(b)),c===void 0&&(x.text=rm(b,_,y,v,n))})}function _4(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*M1):0),text:c,textAnchor:u=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:l,inset:h=0,insetTop:d=h,insetBottom:p=h,dy:m=0,x:g=t==="x"?void 0:null,...w}){return Qe(Z8,t,n,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:u,lineAnchor:s,fontVariant:l,rotate:a,x:g,...w,dy:n==="bottom"?+m+ +o+ +f-p:+m-o-f+ +d},function(b,_,y,v,x){l===void 0&&(this.fontVariant=im(b)),c===void 0&&(x.text=rm(b,_,y,v,n))})}function v4(){const[t,n]=Qn(...arguments);return J1("y",H1(n),t,n)}function x4(){const[t,n]=Qn(...arguments);return J1("fy",V1(n),t,n)}function M4(){const[t,n]=Qn(...arguments);return tm("x",X1(n),t,n)}function $4(){const[t,n]=Qn(...arguments);return tm("fx",G1(n),t,n)}function J1(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,...f}){return Qe(cu,t,n,`${t}-grid`,e,{y:r,x1:o,x2:a,...nm(f)})}function tm(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,...f}){return Qe(D1,t,n,`${t}-grid`,e,{x:r,y1:o,y2:a,...nm(f)})}function nm({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function em({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:u,clip:s=!1},l){return[,t]=In(t),[,n]=Ft(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:u,clip:s,initializer:l}}function Qe(t,n,e,r,i,o,a){let f;function c(l,h,d,p,m,g){const w=l==null&&(n==="fx"||n==="fy"),{[n]:b}=p;if(!b)throw new Error(`missing scale: ${n}`);const _=b.domain();let{interval:y,ticks:v,tickFormat:x,tickSpacing:$=n==="x"?80:35}=o;if(typeof v=="string"&&fm(b)&&(y=v,v=void 0),v===void 0&&(v=Ze(y,b.type)??T4(b,$)),l==null){if(Xn(v))l=Ut(v);else if(ke(v))l=Ja(v,...It(_));else if(b.interval){let C=b.interval;if(b.ticks){const[k,M]=It(_),D=(M-k)/C[fi];C=Ls(C,D/v)??C,l=Ja(C,k,M)}else{l=_;const k=l.length;C=Ls(C,k/v)??C,C!==b.interval&&(l=Ja(C,...It(l)))}if(C===b.interval){const k=Math.round(l.length/v);k>1&&(l=l.filter((M,D)=>D%k===0))}}else b.ticks?l=b.ticks(v):l=_;if(!b.ticks&&l.length&&l!==_){const C=new Lo(_);l=l.filter(k=>C.has(k)),l.length||Bn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?h=[Rn(l)]:f[n]={scale:n,value:Et}}a?.call(this,b,l,v,x,f);const A=Object.fromEntries(Object.entries(f).map(([C,k])=>[C,{...k,value:ht(l,k.value)}]));return w&&(h=g.filterFacets(l,A)),{data:l,facets:h,channels:A}}const u=qr(o).initializer,s=t(i,qr({...o,initializer:c},u));return i==null?(f=s.channels,s.channels={}):f={},s.ariaLabel=r,s.clip===void 0&&(s.clip=!1),s}function T4(t,n){const[e,r]=It(t.range());return(r-e)/n}function rm(t,n,e,r,i){return{value:hu(t,n,e,r,i)}}function hu(t,n,e,r,i){return typeof r=="function"?r:r===void 0&&n&&Lt(n)?d3(t.type,n,i)??be:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):r===void 0?be:typeof r=="string"?(Lt(t.domain())?oi:ye)(r):ci(r)}function Ja(t,n,e){return t.range(n,t.offset(t.floor(e)))}const S4={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},A4={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},C4={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},E4={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function im(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function om(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&fm(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=h8(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return e==="right"?`${r} ↑`:`↑ ${r}`;case"down":return e==="right"?`${r} ↓`:`↓ ${r}`}return r}}function am(t="auto"){return Nt(t)?!1:typeof t=="boolean"?t:rn(t,"labelArrow",["auto","up","right","down","left"])}function fm(t){return Lt(t.domain())}function ll(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function k4(t,{opacity:n,...e}={}){if(!Me(t)&&!b1(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return cm(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Ft(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function N4(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:Nt(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[u,s]=In(n),[l,h]=In(r),d=ll(c,u),p=ll(c,l),m=a*a*Math.PI;return e=Ft(e)[1],i=Ft(i)[1],o=Ft(o)[1],cm(t,f,(g,w,b,_)=>g.append("svg").attr("viewBox","-8 -8 16 16").attr("width",b).attr("height",_).attr("fill",u==="color"?y=>d.scale(y):s).attr("fill-opacity",e).attr("stroke",l==="color"?y=>p.scale(y):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",y=>{const v=xf();return t.scale(y).draw(v,m),v}))}function cm(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=x1(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:u=0,className:s,style:l,width:h}=n;const d=Qc(n);s=Zc(s),i=hu(t.scale,t.domain,void 0,i);const p=Tt("div",d).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(e,t,f,c).call(g=>g.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",u?`${+u}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",St(o,"normal")).call(Kc,l).node()}const ec=new Map([["symbol",N4],["color",sm],["opacity",L4]]);function D4(t,n,e={}){return(r,i)=>{if(!ec.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return ec.get(r)(t[r],um(n,e[r],i),o=>t[o])}}function um({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return D3(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function sm(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return k4(t,e);case"ramp":return P8(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function L4({type:t,interpolate:n,...e},{legend:r=!0,color:i=Yn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return sm({type:t,...e,interpolate:I4(i)},{legend:r,...o})}function I4(t){const{r:n,g:e,b:r}=Yn(t)||Yn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function F4(t,n,e){const r=[];for(const[i,o]of ec){const a=e[i];if(a?.legend&&i in t){const f=o(t[i],um(n,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}const R4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},P4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class O4 extends on{constructor(n={}){const{anchor:e=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:f=r,rx:c,ry:u}=n;super(Yi,void 0,n,e==null?R4:P4),this.anchor=kp(e,"anchor",["top","right","bottom","left"]),this.insetTop=yt(i),this.insetRight=yt(o),this.insetBottom=yt(a),this.insetLeft=yt(f),this.rx=yt(c),this.ry=yt(u)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:u,width:s,height:l}=i,{anchor:h,insetTop:d,insetRight:p,insetBottom:m,insetLeft:g,rx:w,ry:b}=this,_=u+g,y=s-f-p,v=a+d,x=l-c-m;return Tt(h?"svg:line":"svg:rect",o).datum(0).call(Gn,this,i,o).call(jn,this).call(di,this,r).call(Zn,this,{}).call(h==="left"?$=>$.attr("x1",_).attr("x2",_).attr("y1",v).attr("y2",x):h==="right"?$=>$.attr("x1",y).attr("x2",y).attr("y1",v).attr("y2",x):h==="top"?$=>$.attr("x1",_).attr("x2",y).attr("y1",v).attr("y2",v):h==="bottom"?$=>$.attr("x1",_).attr("x2",y).attr("y1",x).attr("y2",x):$=>$.attr("x",_).attr("y",v).attr("width",y-_).attr("height",x-v).attr("rx",w).attr("ry",b)).node()}}function U4(t){return new O4(t)}const tf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},z4=new Set(["geometry","href","src","ariaLabel","scales"]);class q4 extends on{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&Xn(n)&&Rp(n)&&(e={...e,title:Et});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:u,preferredAnchor:s="bottom",monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:w=1,lineWidth:b=20,frameAnchor:_,format:y,textAnchor:v="start",textOverflow:x,textPadding:$=8,title:A,pointerSize:C=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:A,optional:!0}},e,tf),this.anchor=Gf(u,"anchor"),this.preferredAnchor=Gf(s,"preferredAnchor"),this.frameAnchor=Vc(_),this.textAnchor=St(v,"middle"),this.textPadding=+$,this.pointerSize=+C,this.pathFilter=Ct(k),this.lineHeight=+w,this.lineWidth=+b,this.textOverflow=R1(x),this.monospace=!!l,this.fontFamily=Ct(h),this.fontSize=yt(d),this.fontStyle=Ct(p),this.fontVariant=Ct(m),this.fontWeight=Ct(g);for(const M in tf)M in this.channels&&(this[M]=tf[M]);this.splitLines=O1(this),this.clipLine=U1(this),this.format={...y}}render(n,e,r,i,o){const a=this,{x:f,y:c,fx:u,fy:s}=e,{ownerSVGElement:l,document:h}=o,{anchor:d,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:w,pointerSize:b,pathFilter:_}=this,{marginTop:y,marginLeft:v}=i,{x1:x,y1:$,x2:A,y2:C,x:k=x??A,y:M=$??C}=r,D=u?u(n.fx)-v:0,F=s?s(n.fy)-y:0,[L,T]=fa(this,i),I=_1(r,L),H=v1(r,T),W=p?lu:su,N=W(Ie);let U,z;"title"in r?(U=r.channels,z=X4):(U=V4.call(this,r,e),z=G4);const R=Tt("svg:g",o).call(Gn,this,i,o).call(P1,this).call(Zn,this,{x:k&&f,y:M&&c}).call(J=>J.selectAll().data(n).enter().append("g").attr("transform",tt=>`translate(${Math.round(I(tt))},${Math.round(H(tt))})`).call(jn,this).call(tt=>tt.append("path").attr("filter",_)).call(tt=>tt.append("text").each(function(P){const V=wr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=z.call(a,P,n,U,e,r);if(typeof E=="string")for(const O of a.splitLines(E))B(V,{value:a.clipLine(O)});else{const O=new Set;for(const q of E){const{label:S=""}=q;S&&O.has(S)||(O.add(S),B(V,q))}}})));function B(J,{label:tt,value:P,color:V,opacity:E}){tt??="",P??="";const O=V!=null||E!=null;let q,S=g*100;const[nt]=Xe(tt,S,W,N);if(nt>=0)tt=tt.slice(0,nt).trimEnd()+Ie,q=P.trim(),P="";else{(tt||!P&&!O)&&(P=" "+P);const[ot]=Xe(P,S-W(tt),W,N);ot>=0&&(q=P.trim(),P=P.slice(0,ot).trimEnd()+Ie)}const Y=J.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");tt&&Y.append("tspan").attr("font-weight","bold").text(tt),P&&Y.append(()=>h.createTextNode(P)),O&&Y.append("tspan").text(" ■").attr("fill",V).attr("fill-opacity",E).style("user-select","none"),q&&Y.append("title").text(q)}function et(){const{width:J,height:tt}=i.facet??i;R.selectChildren().each(function(P){let{x:V,width:E,height:O}=this.getBBox();E=Math.round(E),O=Math.round(O);let q=d;if(q===void 0){const Y=I(P)+D,ot=H(P)+F,ct=Y+E+b+w*2<J,xt=Y-E-b-w*2>0,On=ot+O+b+w*2<tt,Jn=ot-O-b-w*2>0;q=ct&&xt?On&&Jn?a.preferredAnchor:Jn?"bottom":"top":On&&Jn?ct?"left":"right":(ct||xt)&&(On||Jn)?`${Jn?"bottom":"top"}-${ct?"left":"right"}`:a.preferredAnchor}const S=this.firstChild,nt=this.lastChild;if(S.setAttribute("d",H4(q,b,w,E,O)),V)for(const Y of nt.childNodes)Y.setAttribute("x",-V);nt.setAttribute("y",`${+Y4(q,nt.childNodes.length,m).toFixed(6)}em`),nt.setAttribute("transform",`translate(${W4(q,b,w,E,O)})`)}),R.attr("visibility",null)}return n.length&&(R.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(et):typeof requestAnimationFrame<"u"&&requestAnimationFrame(et)),R.node()}}function B4(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Np(n,e)),new q4(t,{...r,x:n,y:e})}function Y4(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function W4(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function H4(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function V4({channels:t},n){const e={};let r=this.format;r=hl(r,t,"x"),r=hl(r,t,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const a=Zf(t,i);a&&(e[i]=a)}}for(const i in t){if(i in e||i in r||z4.has(i))continue;const o=Zf(t,i);o&&(e[i]=o)}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const o=this.format[i];if(typeof o=="string"){const a=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Lt(a)?oi:ye)(o)}else if(o===void 0||o===!0){const a=n[i];this.format[i]=a?.bandwidth?hu(a,a.domain()):be}}return e}function hl(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function X4(t,n,{title:e}){return be(e.value[t],t)}function*G4(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:Co(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:pl(r,e,"x"),value:dl(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:pl(r,e,"y"),value:dl(this.format.y2,e.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!mn(f)&&c==null)continue;yield{label:Co(r,e,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function dl(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function pl(t,n,e){const r=Co(t,n,`${e}1`,e),i=Co(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function Co(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function gi(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=Zc(t.className),u=t.marks===void 0?[]:gl(t.marks);u.push(...e7(u));const s=t7(n,t),l=new Map;for(const N of u){const U=bl(N,s,t);U&&l.set(N,U)}const h=new Map;s&&cr(h,[s],t),cr(h,l,t);const d=gl(r7(u,h,t));for(const N of d){const U=bl(N,s,t);U&&l.set(N,U)}u.unshift(...d);let p=x8(h,t);if(p!==void 0){const N=s?Za(p,s):void 0;for(const z of u){if(z.facet===null||z.facet==="super")continue;const R=l.get(z);R!==void 0&&(R.facetsIndex=z.fx!=null||z.fy!=null?Za(p,R):N)}const U=new Set;for(const{facetsIndex:z}of l.values())z?.forEach((R,B)=>{R?.length>0&&U.add(B)});p.forEach(0<U.size&&U.size<p.length?(z,R)=>z.empty=!U.has(R):z=>z.empty=!1);for(const z of u)if(z.facet==="exclude"){const R=l.get(z);R!==void 0&&(R.facetsIndex=T8(R.facetsIndex))}}for(const N of lt.keys())Vf(t[N])&&N!=="fx"&&N!=="fy"&&h.set(N,[]);const m=new Map;for(const N of u){if(m.has(N))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:U,channels:z}=l.get(N)??{},{data:R,facets:B,channels:et}=N.initialize(U,z,t);du(et,t),m.set(N,{data:R,facets:B,channels:et})}const g=Jf(cr(h,m,t),t),w=_8(g,u,t);s8(g,w);const b=Zs(g),{fx:_,fy:y}=b,v=_||y?p1(g,w):w,x=_||y?s7(b,w):w,$=Qc(t),A=$.document,C=Fo("svg").call(A.documentElement);let k=C;$.ownerSVGElement=C,$.className=c,$.projection=x5(t,v),$.filterFacets=(N,U)=>Za(p,{channels:U,groups:ru(N,U)}),$.getMarkState=N=>{const U=m.get(N),z=l.get(N);return{...U,channels:{...U.channels,...z?.channels}}},$.dispatchValue=N=>{k.value!==N&&(k.value=N,k.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[N,U]of m)if(N.initializer!=null){const z=N.facet==="super"?x:v,R=N.initializer(U.data,U.facets,U.channels,b,z,$);if(R.data!==void 0&&(U.data=R.data),R.facets!==void 0&&(U.facets=R.facets),R.channels!==void 0){const{fx:B,fy:et,...J}=R.channels;J4(J),Object.assign(U.channels,J);for(const tt of Object.values(J)){const{scale:P}=tt;P!=null&&!I3(lt.get(P))&&(lm(tt,t),M.add(P))}(B!=null||et!=null)&&l.set(N,!0)}}if(M.size){const N=new Map;cr(N,m,t,B=>M.has(B)),cr(h,m,t,B=>M.has(B));const U=u7(Jf(N,t),g),{scales:z,...R}=Zs(U);Object.assign(g,U),Object.assign(b,R),Object.assign(b.scales,z)}let D,F;p!==void 0&&(D={x:_?.domain(),y:y?.domain()},p=M8(p,D),F=$8(_,y,w));for(const[N,U]of m)U.values=N.scale(U.channels,b,$);const{width:L,height:T}=w;wr(C).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",T).attr("viewBox",`0 0 ${L} ${T}`).attr("aria-label",a).attr("aria-description",f).call(N=>N.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(Kc,e);for(const N of u){const{channels:U,values:z,facets:R}=m.get(N);if(p===void 0||N.facet==="super"){let B=null;if(R&&(B=R[0],B=N.filter(B,U,z),B.length===0))continue;const et=N.render(B,b,z,x,$);if(et==null)continue;C.appendChild(et)}else{let B;for(const et of p){if(!(N.facetAnchor?.(p,D,et)??!et.empty))continue;let J=null;if(R){const P=l.has(N);if(J=R[P?et.i:0],J=N.filter(J,U,z),J.length===0)continue;!P&&J===R[0]&&(J=x3(J)),J.fx=et.x,J.fy=et.y,J.fi=et.i}const tt=N.render(J,b,z,v,$);if(tt!=null){(B??=wr(C).append("g")).append(()=>tt).datum(et);for(const P of["aria-label","aria-description","aria-hidden","transform"])tt.hasAttribute(P)&&(B.attr(P,tt.getAttribute(P)),tt.removeAttribute(P))}}B?.selectChildren().attr("transform",F)}}const I=F4(g,$,t),{figure:H=r!=null||i!=null||o!=null||I.length>0}=t;H&&(k=A.createElement("figure"),k.className=`${c}-figure`,k.style.maxWidth="initial",r!=null&&k.append(ml(A,r,"h2")),i!=null&&k.append(ml(A,i,"h3")),k.append(...I,C),o!=null&&k.append(j4(A,o))),k.scale=y8(b.scales),k.legend=D4(g,$,t);const W=s5();return W>0&&wr(C).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${W.toLocaleString("en-US")} warning${W===1?"":"s"}. Please check the console.`),k}function ml(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function j4(t,n){const e=t.createElement("figcaption");return e.append(n),e}function Z4({marks:t=[],...n}={}){return gi({...n,marks:[...t,this]})}on.prototype.plot=Z4;function gl(t){return t.flat(1/0).filter(n=>n!=null).map(K4)}function K4(t){return typeof t.render=="function"?t:new Q4(t)}class Q4 extends on{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function du(t,n){for(const e in t)lm(t[e],n);return t}function lm(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c*100:Fp(a,i)}=n[e]??{};f!=null&&(t.value=dt(t.value,f),t.transform=!1)}function J4(t){for(const n in t)Xp(n,t[n])}function cr(t,n,e,r=y3){for(const{channels:i}of n.values())for(const o in i){const a=i[o],{scale:f}=a;if(f!=null&&r(f))if(f==="projection"){if(!S5(e)){const c=e.x?.domain===void 0,u=e.y?.domain===void 0;if(c||u){const[s,l]=C5(a);c&&nf(t,"x",s),u&&nf(t,"y",l)}}}else nf(t,f,a)}return t}function nf(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function t7(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Ut(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=Br(i,{value:e,scale:"fx"})),r!=null&&(o.fy=Br(i,{value:r,scale:"fy"})),du(o,n);const a=ru(i,o);return{channels:o,groups:a,data:t.data}}function bl(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Ut(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const u={};return r!=null&&(u.fx=Br(c,{value:r,scale:"fx"})),i!=null&&(u.fy=Br(c,{value:i,scale:"fy"})),du(u,e),{channels:u,groups:ru(c,u)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Ut(t.data)?.length===f.length&&Bn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function n7(t,n={}){return qr({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function e7(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?w1:/^y$/i.test(i)?il:R8,r=i(n7(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===il?"left":"bottom");const a=B4(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function r7(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:u,facet:s={},facet:{axis:l=c,grid:h}=s,x:{axis:d=c,grid:p=d===null?null:u}=i,y:{axis:m=c,grid:g=m===null?null:u}=o,fx:{axis:w=l,grid:b=w===null?null:h}=a,fy:{axis:_=l,grid:y=_===null?null:h}=f}=e;(r||!Vf(i)&&!yl("x",t))&&(d=p=null),(r||!Vf(o)&&!yl("y",t))&&(m=g=null),n.has("fx")||(w=b=null),n.has("fy")||(_=y=null),d===void 0&&(d=!Pi(t,"x")),m===void 0&&(m=!Pi(t,"y")),w===void 0&&(w=!Pi(t,"fx")),_===void 0&&(_=!Pi(t,"fy")),d===!0&&(d="bottom"),m===!0&&(m="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),_===!0&&(_=m==="right"||m===null?"left":"right");const v=[];return Ri(v,y,x4,f),Fi(v,_,m4,"right","left",s,f),Ri(v,b,$4,a),Fi(v,w,g4,"top","bottom",s,a),Ri(v,g,v4,o),Fi(v,m,j1,"left","right",e,o),Ri(v,p,M4,i),Fi(v,d,Z1,"bottom","top",e,i),v}function Fi(t,n,e,r,i,o,a){if(!n)return;const f=i7(n);a=o7(f?r:n,o,a);const{line:c}=a;(e===j1||e===Z1)&&c&&!zr(c)&&t.push(U4(a7(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function Ri(t,n,e,r){!n||zr(n)||t.push(e(f7(n,r)))}function i7(t){return/^\s*both\s*$/i.test(t)}function o7(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:u,ariaLabel:s,ariaDescription:l,label:h=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:m}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:u,ariaLabel:s,ariaDescription:l,label:h,labelAnchor:d,labelArrow:p,labelOffset:m}}function a7(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function f7(t,{stroke:n=ia(t)?t:void 0,ticks:e=c7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function c7(t){switch(typeof t){case"number":return!0;case"string":return!ia(t)}return Xn(t)||typeof t?.range=="function"}function Pi(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function yl(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function u7(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function s7({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=eu(e),u=t&&wl(t),s=n&&wl(n);return{marginTop:n?s[0]:r,marginRight:t?f-u[1]:i,marginBottom:n?c-s[1]:o,marginLeft:t?u[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function wl(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const l7=new Map([["basis",W_],["basis-closed",H_],["basis-open",V_],["bundle",X_],["bump-x",L_],["bump-y",I_],["cardinal",G_],["cardinal-closed",j_],["cardinal-open",Z_],["catmull-rom",K_],["catmull-rom-closed",Q_],["catmull-rom-open",J_],["linear",ai],["linear-closed",t3],["monotone-x",n3],["monotone-y",e3],["natural",r3],["step",i3],["step-after",a3],["step-before",o3]]);function hm(t=ai,n){if(typeof t=="function")return t;const e=l7.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function h7(t=Eo,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Eo:hm(t,n)}function Eo(t){return ai(t)}function d7(t={y:"count"},n={}){[t,n]=g7(t,n);const{x:e,y:r}=n;return m7(b7(e,n,Et),null,null,r,t,fu(n))}function p7(t,n,e={}){if(e?.interval==null)return e;const{reduce:r=jc}=e,i={filter:null};return e[n]!=null&&(i[n]=r),e[`${n}1`]!=null&&(i[`${n}1`]=r),e[`${n}2`]!=null&&(i[`${n}2`]=r),t(i,e)}function dm(t={}){return p7(d7,"y",la(t,"x"))}function m7(t,n,e,r,{data:i=Vp,filter:o=To,sort:a,reverse:f,...c}={},u={}){t=_l(t),n=_l(n),c=w7(c,u),i=gm(i,Et),a=a==null?void 0:pm("sort",a,u),o=o==null?void 0:mm("filter",o,u),e!=null&&Ni(c,"x","x1","x2")&&(e=null),r!=null&&Ni(c,"y","y1","y2")&&(r=null);const[s,l]=Mn(t),[h,d]=Mn(t),[p,m]=Mn(n),[g,w]=Mn(n),[b,_]=e!=null?[e,"x"]:r!=null?[r,"y"]:[],[y,v]=Mn(b),{x,y:$,z:A,fill:C,stroke:k,x1:M,x2:D,y1:F,y2:L,domain:T,cumulative:I,thresholds:H,interval:W,...N}=u,[U,z]=Mn(A),[R]=In(C),[B]=In(k),[et,J]=Mn(R),[tt,P]=Mn(B);return{..."z"in u&&{z:U||A},..."fill"in u&&{fill:et||C},..."stroke"in u&&{stroke:tt||k},...aa(N,(V,E,O)=>{const q=Ip(ht(V,b),O?.[_]),S=ht(V,A),nt=ht(V,R),Y=ht(V,B),ot=H3(c,{z:S,fill:nt,stroke:Y}),ct=[],xt=[],On=q&&v([]),Jn=S&&z([]),$m=nt&&J([]),Tm=Y&&P([]),bu=t&&l([]),Sm=t&&d([]),yu=n&&m([]),Am=n&&w([]),Cm=x7(t,n,V);let Em=0;for(const $e of c)$e.initialize(V);a&&a.initialize(V),o&&o.initialize(V);for(const $e of E){const wu=[];for(const tr of c)tr.scope("facet",$e);a&&a.scope("facet",$e),o&&o.scope("facet",$e);for(const[tr,km]of Os($e,ot))for(const[Nm,yi]of Os(km,q))for(const[an,te]of Cm(yi))if(!(o&&!o.reduce(an,te))){wu.push(Em++),xt.push(i.reduceIndex(an,V,te)),q&&On.push(Nm),S&&Jn.push(ot===S?tr:S[(an.length>0?an:yi)[0]]),nt&&$m.push(ot===nt?tr:nt[(an.length>0?an:yi)[0]]),Y&&Tm.push(ot===Y?tr:Y[(an.length>0?an:yi)[0]]),bu&&(bu.push(te.x1),Sm.push(te.x2)),yu&&(yu.push(te.y1),Am.push(te.y2));for(const Dm of c)Dm.reduce(an,te);a&&a.reduce(an)}ct.push(wu)}return V3(ct,a,f),{data:xt,facets:ct}}),...!Ni(c,"x")&&(s?{x1:s,x2:h,x:Xf(s,h)}:{x,x1:M,x2:D}),...!Ni(c,"y")&&(p?{y1:p,y2:g,y:Xf(p,g)}:{y:$,y1:F,y2:L}),...y&&{[_]:y},...Object.fromEntries(c.map(({name:V,output:E})=>[V,E]))}}function g7({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}function b7(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){return t={...ui(t)},t.domain===void 0&&(t.domain=e),t.cumulative===void 0&&(t.cumulative=n),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=y7(t.thresholds,t.interval),t}function _l(t){if(t==null)return;const{value:n,cumulative:e,domain:r=It,thresholds:i}=t,o=a=>{let f=ht(a,n),c;if(Lt(f)||v7(i)){f=dt(f,Ep,Float64Array);let[s,l]=typeof r=="function"?r(f):r,h=typeof i=="function"&&!ke(i)?i(f,s,l):i;typeof h=="number"&&(h=Td(s,l,h)),ke(h)&&(r===It&&(s=h.floor(s),l=h.offset(h.floor(l))),h=h.range(s,h.offset(l))),c=h}else{f=He(f);let[s,l]=typeof r=="function"?r(f):r,h=typeof i=="function"&&!ke(i)?i(f,s,l):i;if(typeof h=="number")if(r===It){let d=Xi(s,l,h);if(isFinite(d))if(d>0){let p=Math.round(s/d),m=Math.round(l/d);p*d<=s||--p,m*d>l||++m;let g=m-p+1;h=new Float64Array(g);for(let w=0;w<g;++w)h[w]=(p+w)*d}else if(d<0){d=-d;let p=Math.round(s*d),m=Math.round(l*d);p/d<=s||--p,m/d>l||++m;let g=m-p+1;h=new Float64Array(g);for(let w=0;w<g;++w)h[w]=(p+w)/d}else h=[s];else h=[s]}else h=Ar(s,l,h);else ke(h)&&(r===It&&(s=h.floor(s),l=h.offset(h.floor(l))),h=h.range(s,h.offset(l)));c=h}const u=[];if(c.length===1)u.push([c[0],c[0]]);else for(let s=1;s<c.length;++s)u.push([c[s-1],c[s]]);return u.bin=(e<0?$7:e>0?M7:pu)(u,c,f),u};return o.label=xe(n),o}function y7(t,n,e=vl){if(t===void 0)return n===void 0?e:Ze(n);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return Km;case"scott":return Rl;case"sturges":return Xm;case"auto":return vl}return zc(t)}return t}function w7(t,n){return B3(t,n,pm)}function pm(t,n,e){return Wp(t,n,e,mm)}function mm(t,n,e){return Hp(t,n,e,gm)}function gm(t,n){return Gc(t,n,_7)}function _7(t){switch(`${t}`.toLowerCase()){case"x":return T7;case"x1":return A7;case"x2":return C7;case"y":return S7;case"y1":return E7;case"y2":return k7}throw new Error(`invalid bin reduce: ${t}`)}function vl(t,n,e){return Math.min(200,Rl(t,n,e))}function v7(t){return $3(t)||Xn(t)&&Lt(t)}function x7(t,n,e){const r=t?.(e),i=n?.(e);return r&&i?function*(o){const a=r.bin(o);for(const[f,[c,u]]of r.entries()){const s=i.bin(a[f]);for(const[l,[h,d]]of i.entries())yield[s[l],{data:e,x1:c,y1:h,x2:u,y2:d}]}}:r?function*(o){const a=r.bin(o);for(const[f,[c,u]]of r.entries())yield[a[f],{data:e,x1:c,x2:u}]}:function*(o){const a=i.bin(o);for(const[f,[c,u]]of i.entries())yield[a[f],{data:e,y1:c,y2:u}]}}function pu(t,n,e){return n=He(n),r=>{const i=t.map(()=>[]);for(const o of r)i[No(n,e[o])-1]?.push(o);return i}}function M7(t,n,e){const r=pu(t,n,e);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const c=o[a-1],u=o[a];for(const s of c)u.push(s)}return o}}function $7(t,n,e){const r=pu(t,n,e);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],c=o[a];for(const u of f)c.push(u)}return o}}function bm(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const T7={reduceIndex(t,n,{x1:e,x2:r}){return bm(e,r)}},S7={reduceIndex(t,n,{y1:e,y2:r}){return bm(e,r)}},A7={reduceIndex(t,n,{x1:e}){return e}},C7={reduceIndex(t,n,{x2:e}){return e}},E7={reduceIndex(t,n,{y1:e}){return e}},k7={reduceIndex(t,n,{y2:e}){return e}};function N7(t={}){return _3(t)?t:{...t,y:Et}}function D7(t,n){if(n.length===1)return{data:t,facets:n};const e=t.length,r=new Uint8Array(e);let i=0;for(const f of n)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:n};t=Pr(t);const o=t[Sp]=new Uint32Array(e+i);n=n.map(f=>Pr(f,Uint32Array));let a=e;r.fill(0);for(const f of n)for(let c=0,u=f.length;c<u;++c){const s=f[c];r[s]?(f[c]=a,t[a]=t[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:t,facets:n}}function L7(t={},n={}){arguments.length===1&&([t,n]=F7(t));const{x1:e,x:r=e,y:i,...o}=n,[a,f,c,u]=P7(r,i,"x","y",t,o);return{...a,x1:e,x:f,y1:c,y2:u,y:Xf(c,u)}}function I7({y:t,y1:n,y2:e,...r}={}){return r=la(r,"x"),n===void 0&&e===void 0?L7({y:t,...r}):([n,e]=v3(t,n,e),{...r,y1:n,y2:e})}function F7(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const R7={length:!0};function P7(t,n=b3,e,r,{offset:i,order:o,reverse:a},f){if(n===null)throw new Error(`stack requires ${r}`);const c=ea(f),[u,s]=Mn(t),[l,h]=Ur(n),[d,p]=Ur(n);return l.hint=d.hint=R7,i=O7(i),o=q7(o,i,r),[aa(f,(m,g,w)=>{({data:m,facets:g}=D7(m,g));const b=t==null?void 0:s(Ip(ht(m,t),w?.[e])),_=ht(m,n,Float64Array),y=ht(m,c),v=o&&o(m,b,_,y),x=m.length,$=h(new Float64Array(x)),A=p(new Float64Array(x)),C=[];for(const k of g){const M=b?Array.from(Vr(k,D=>b[D]).values()):[k];if(v)for(const D of M)D.sort(v);for(const D of M){let F=0,L=0;a&&D.reverse();for(const T of D){const I=_[T];I<0?F=A[T]=($[T]=F)+I:I>0?L=A[T]=($[T]=L)+I:A[T]=$[T]=L}}C.push(M)}return i&&i(C,$,A,y),{data:m,facets:g}}),u,l,d]}function O7(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return U7;case"center":case"silhouette":return z7;case"wiggle":return wm}throw new Error(`unknown offset: ${t}`)}}function ym(t,n){let e=0,r=0;for(const i of t){const o=n[i];o<e&&(e=o),o>r&&(r=o)}return[e,r]}function U7(t,n,e){for(const r of t)for(const i of r){const[o,a]=ym(i,e);for(const f of i){const c=1/(a-o||1);n[f]=c*(n[f]-o),e[f]=c*(e[f]-o)}}}function z7(t,n,e){for(const r of t){for(const i of r){const[o,a]=ym(i,e);for(const f of i){const c=(a+o)/2;n[f]-=c,e[f]-=c}}_m(r,n,e)}vm(t,n,e)}function wm(t,n,e,r){for(const i of t){const o=new ue;let a=0;for(const f of i){let c=-1;const u=f.map(d=>Math.abs(e[d]-n[d])),s=f.map(d=>{c=r?r[d]:++c;const p=e[d]-n[d],m=o.has(c)?p-o.get(c):0;return o.set(c,p),m}),l=[0,...qm(s)];for(const d of f)n[d]+=a,e[d]+=a;const h=kn(u);h&&(a-=kn(u,(d,p)=>(s[p]/2+l[p])*d)/h)}_m(i,n,e)}vm(t,n,e)}function _m(t,n,e){const r=dn(t,i=>dn(i,o=>n[o]));for(const i of t)for(const o of i)n[o]-=r,e[o]-=r}function vm(t,n,e){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(dn(f,c=>n[c])+Xt(f,c=>e[c]))/2),a=dn(o);for(let f=0;f<r;f++){const c=a-o[f];for(const u of i[f])n[u]+=c,e[u]+=c}}function q7(t,n,e){if(t===void 0&&n===wm)return xl(nn);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?$o:nn;switch((r?t.slice(1):t).toLowerCase()){case"value":case e:return B7(i);case"z":return Y7(i);case"sum":return W7(i);case"appearance":return H7(i);case"inside-out":return xl(i)}return Ml(Ap(t))}if(typeof t=="function")return(t.length===1?Ml:V7)(t);if(Array.isArray(t))return X7(t);throw new Error(`invalid order: ${t}`)}}function B7(t){return(n,e,r)=>(i,o)=>t(r[i],r[o])}function Y7(t){return(n,e,r,i)=>(o,a)=>t(i[o],i[a])}function W7(t){return da(t,(n,e,r,i)=>ac(Rn(n),o=>kn(o,a=>r[a]),o=>i[o]))}function H7(t){return da(t,(n,e,r,i)=>ac(Rn(n),o=>e[Fl(o,a=>r[a])],o=>i[o]))}function xl(t){return da(t,(n,e,r,i)=>{const o=Rn(n),a=ac(o,l=>e[Fl(l,h=>r[h])],l=>i[l]),f=Ne(o,l=>kn(l,h=>r[h]),l=>i[l]),c=[],u=[];let s=0;for(const l of a)s<0?(s+=f.get(l),c.push(l)):(s-=f.get(l),u.push(l));return u.reverse().concat(c)})}function Ml(t){return n=>{const e=ht(n,t);return(r,i)=>nn(e[r],e[i])}}function V7(t){return n=>(e,r)=>t(n[e],n[r])}function X7(t){return da(nn,()=>t)}function da(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new ue(n(e,r,i,o).map((f,c)=>[f,c]));return(f,c)=>t(a.get(o[f]),a.get(o[c]))}}const G7={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class j7 extends on{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:c,tension:u}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:ea(e),optional:!0}},e,G7),this.z=f,this.curve=hm(c,u)}filter(n){return n}render(n,e,r,i,o){const{x1:a,y1:f,x2:c=a,y2:u=f}=r;return Tt("svg:g",o).call(Gn,this,i,o).call(Zn,this,e,0,0).call(s=>s.selectAll().data(Kp(n,[a,f,c,u],this,r)).enter().append("path").call(jn,this).call(Zp,this,r).attr("d",D_().curve(this.curve).defined(l=>l>=0).x0(l=>a[l]).y0(l=>f[l]).x1(l=>c[l]).y1(l=>u[l]))).node()}}function Z7(t,n){const{x:e=qc,...r}=dm(n);return new j7(t,I7(N7({...r,x1:e,x2:void 0})))}const K7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Q7 extends on{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:f}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:ea(e),optional:!0}},e,K7),this.z=o,this.curve=h7(a,f),au(this,e)}filter(n){return n}project(n,e,r){this.curve!==Eo&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:f}=r,{curve:c}=this;return Tt("svg:g",o).call(Gn,this,i,o).call(Zn,this,e).call(u=>u.selectAll().data(Kp(n,[a,f],this,r)).enter().append("path").call(jn,this).call(Zp,this,r).call(q8,this,r,o).attr("d",c===Eo&&o.projection?J7(o.projection,a,f):X0().curve(c).defined(s=>s>=0).x(s=>a[s]).y(s=>f[s]))).node()}}function J7(t,n,e){const r=vc(t);return n=He(n),e=He(e),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([n[f],e[f]]);return r({type:"MultiLineString",coordinates:a})}}function Wr(t,{x:n=qc,y:e=Et,...r}={}){return new Q7(t,dm({...r,x:n,y:e}))}function tv(t,n={}){let{y:e,y1:r,y2:i}=n;e===void 0&&r===void 0&&i===void 0&&(n={...n,y:e=Et});const o={};return e!=null&&(o.y=t),r!=null&&(o.y1=t),i!=null&&(o.y2=t),nv(o,n)}function nv(t={},n={}){const e=ea(n),r=Object.entries(t).map(([i,o])=>{const a=Lp(i,n);if(a==null)throw new Error(`missing channel: ${i}`);const[f,c]=Ur(a);return{key:i,input:a,output:f,setOutput:c,map:ev(o)}});return{...aa(n,(i,o)=>{const a=ht(i,e),f=r.map(({input:u})=>ht(i,u)),c=r.map(({setOutput:u})=>u(new Array(i.length)));for(const u of o)for(const s of a?Vr(u,l=>a[l]).values():[u])r.forEach(({map:l},h)=>l.mapIndex(s,f[h],c[h]));return{data:i,facets:o}}),...Object.fromEntries(r.map(({key:i,output:o})=>[i,o]))}}function ev(t){if(t==null)throw new Error("missing map");if(typeof t.mapIndex=="function")return t;if(typeof t.map=="function"&&Fn(t))return rv(t);if(typeof t=="function")return ef(Dp(t));switch(`${t}`.toLowerCase()){case"cumsum":return ov;case"rank":return ef((n,e)=>Ol(n,r=>e[r]));case"quantile":return ef((n,e)=>iv(n,r=>e[r]))}throw new Error(`invalid map: ${t}`)}function rv(t){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:t.map.bind(t)}}function iv(t,n){const e=Do(t,n)-1;return Ol(t,n).map(r=>r/e)}function ef(t){return{mapIndex(n,e,r){const i=t(n,e);if(i.length!==n.length)throw new Error("map function returned a mismatched length");for(let o=0,a=n.length;o<a;++o)r[n[o]]=i[o]}}}const ov={mapIndex(t,n,e){let r=0;for(const i of t)e[i]=r+=n[i]}};function av(t,n={}){return fv(w1,t,n)}function fv(t,n,e={}){const{x:r,y:i,maxRadius:o}=e,a=t({px:r,py:i,maxRadius:o}),f=[];r!=null&&f.push(D1(n,$l("x",{...a,inset:-6},e))),i!=null&&f.push(cu(n,$l("y",{...a,inset:-6},e))),r!=null&&f.push(Ao(n,Tl("x",{...a,dy:9,frameAnchor:"bottom",lineAnchor:"top"},e))),i!=null&&f.push(Ao(n,Tl("y",{...a,dx:-9,frameAnchor:"left",textAnchor:"end"},e)));for(const c of f)c.ariaLabel=`crosshair ${c.ariaLabel}`;return iu(...f)}function xm(t,{channels:n,...e},{facet:r,facetAnchor:i,fx:o,fy:a,[t]:f,channels:c,transform:u,initializer:s}){return{...e,facet:r,facetAnchor:i,fx:o,fy:a,[t]:f,channels:{...n,...c},transform:u,initializer:cv(t,s)}}function cv(t,n){return n==null?n:function(e,r,{x:i,y:o,px:a,py:f,...c},...u){const{channels:{x:s,y:l,...h}={},...d}=n.call(this,e,r,{...c,x:a,y:f},...u);return{channels:{...h,...s&&{px:s,...t==="x"&&{x:s}},...l&&{py:l,...t==="y"&&{y:l}}},...d}}}function $l(t,n,e){const{color:r="currentColor",opacity:i=.2,ruleStroke:o=r,ruleStrokeOpacity:a=i,ruleStrokeWidth:f}=e;return{...xm(t,n,e),stroke:o,strokeOpacity:a,strokeWidth:f}}function Tl(t,n,e){const{color:r="currentColor",textFill:i=r,textFillOpacity:o,textStroke:a="var(--plot-background)",textStrokeOpacity:f,textStrokeWidth:c=5}=e;return{...xm(t,n,uv(t,e)),fill:i,fillOpacity:o,stroke:a,strokeOpacity:f,strokeWidth:c}}function uv(t,n){return qr(n,(e,r,i)=>({channels:{text:{value:Zf(i,t)?.value}}}))}function sv(t,n){return arguments.length===1&&({basis:t,...n}=t),tv(lv(t),n)}function lv(t){if(t===void 0)return Sl;if(typeof t=="function")return pa(Dp(t));if(/^p\d{2}$/i.test(t))return Je(Cp(t));switch(`${t}`.toLowerCase()){case"deviation":return pv;case"first":return Sl;case"last":return dv;case"max":return mv;case"mean":return gv;case"median":return bv;case"min":return yv;case"sum":return wv;case"extent":return hv}throw new Error(`invalid basis: ${t}`)}function pa(t){return{mapIndex(n,e,r){const i=+t(n,e);for(const o of n)r[o]=e[o]===null?NaN:e[o]/i}}}function Je(t){return pa((n,e)=>t(n,r=>e[r]))}const hv={mapIndex(t,n,e){const[r,i]=It(t,a=>n[a]),o=i-r;for(const a of t)e[a]=n[a]===null?NaN:(n[a]-r)/o}},Sl=pa((t,n)=>{for(let e=0;e<t.length;++e){const r=n[t[e]];if(mn(r))return r}}),dv=pa((t,n)=>{for(let e=t.length-1;e>=0;--e){const r=n[t[e]];if(mn(r))return r}}),pv={mapIndex(t,n,e){const r=fc(t,o=>n[o]),i=rc(t,o=>n[o]);for(const o of t)e[o]=n[o]===null?NaN:i?(n[o]-r)/i:0}},mv=Je(Xt),gv=Je(fc),bv=Je(Gi),yv=Je(dn),wv=Je(kn);let ma=[],$r=[],_v=[],bi=[];const ga=await qo("/SP500.csv"),vv=await qo("/KOSPI.csv"),mu=await qo("/FEDFUNDS.csv"),xv=await qo("/NASDAQ.csv");ga.map(t=>{ma.push({Date:new Date(t.MonthDate),Close:Number(t.Price),Symbol:"S&P 500"})});ga.map(t=>{_v.push({Date:new Date(t.MonthDate),Close:Number(t.Price),Symbol:"S&P 500"})});vv.map(t=>{ma.push({Date:new Date(t.Date),Close:Number(t.Close),Symbol:"KOSPI"})});xv.map(t=>{ma.push({Date:new Date(t.Date),Close:Number(t.Close),Symbol:"NASDAQ"})});mu.map(t=>{$r.push({Date:new Date(t.DATE),Close:Number(t.FEDFUNDS),Symbol:"FEDFUNDS"})});const Mv=gi({width:1e3,color:{legend:!0,scheme:"Accent"},y:{type:"log",label:"Change in price (%)",tickFormat:(t=>n=>t((n-1)*100))(ye("+d"))},marks:[cu([1]),Wr(ma,sv({x:"Date",y:"Close",stroke:"Symbol",tip:"x"}))],grid:!0}),$v=gi({width:1e3,color:{legend:!0},y:{type:"linear",label:"Interest Rate (bps)",nice:!0},marks:[Wr($r,{x:"Date",y:"Close",stroke:"Symbol",tip:"x"}),av($r,{x:"Date",y:"Close"}),Z7($r,{x:"Date",y:"Close",fillOpacity:.3})],grid:!0}),Tv=document.querySelector("#stocks");Tv.append(Mv);const Sv=document.querySelector("#feds");Sv.append($v);let Mm=[],rf,Al,yr=1e3;bi.push({Date:new Date("1985-01-01"),Value:Number(yr),Type:"Annual Investment"});ga.map(t=>{if(t.MonthDate.split("-")[1]==1)rf=t.Price,t.MonthDate.split("-")[0];else if(t.MonthDate.split("-")[1]==12){Al=t.Price;let n=1+(Al-rf)/rf;yr=1e3+yr*n,bi.push({Date:new Date(t.MonthDate),Value:Number(yr),Type:"Annual Investment"}),Mm.push({Date:new Date(t.MonthDate),Value:Number(yr),Type:"Annual Investment in S&P500"})}});let of,Cl,Wi=1e3/12;bi.push({Date:new Date("1985-01-01"),Value:Number(Wi),Type:"Monthly Investment"});ga.map(t=>{Cl=t.Price;let n=1+(Cl-of)/of;n&&(Wi=1e3/12+Wi*n,bi.push({Date:new Date(t.MonthDate),Value:Number(Wi),Type:"Monthly Investment"})),of=t.Price});const Av=gi({marginLeft:50,width:1e3,color:{legend:!0,scheme:"Spectral"},y:{label:"Value(USD)"},marks:[Wr(bi,{x:"Date",y:"Value",stroke:"Type",tip:"xy"})],grid:!0}),Cv=document.querySelector("#invest");Cv.append(Av);let gu=[],Hi=1e3;gu.push({Date:new Date("1985-01-01"),Value:Number(Hi),Type:"Annual Deposit into savings"});mu.map(t=>{$r.push({Date:new Date(t.DATE),Close:Number(t.FEDFUNDS),Symbol:"FEDFUNDS"})});mu.map(t=>{t.DATE.split("-")[1]==12&&(Hi=1e3+Hi*(1+t.FEDFUNDS/100),gu.push({Date:new Date(t.DATE),Value:Number(Hi),Type:"Annual Deposit into savings"}))});const Ev=gi({marginLeft:50,width:1e3,color:{legend:!0,scheme:"RdYlBu"},y:{label:"Value(USD)"},marks:[Wr(Mm,{x:"Date",y:"Value",stroke:"Type",tip:"xy"}),Wr(gu,{x:"Date",y:"Value",stroke:"Type",tip:"xy"})],grid:!0}),kv=document.querySelector("#compare");kv.append(Ev);
